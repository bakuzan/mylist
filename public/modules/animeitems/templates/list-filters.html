<div class="md-padding animate-transition" ng-class="(filterConfig.expandFilters) ? 'popout-filters-container' : ''" lose-interest>
    <div ng-if="page !== 'task'">
        <md-input-container flex>
          <label>search</label>
          <input type="text" ng-model="filterConfig.search[filterConfig.selectListOptions.searchName]">
       </md-input-container>
        <md-input-container ng-if="items !== undefined">
          <label> </label>
          <input type="text" value="Showing {{ (filterConfig.showingCount = (items | filter: filterConfig.search | mediaFilter: filterConfig.media | ratingFilter: filterConfig.ratingLevel | tagFilter: filterConfig.searchTags:filterConfig.taglessItem).length) }} items." disabled ng-if="page !== 'topten' && page !== 'watch'">
          <input type="text" value="Showing {{ (filterConfig.showingCount = (items | filter: filterConfig.search).length) }} items." disabled ng-if="page === 'topten' || page === 'watch'">
        </md-input-container>

        <div ng-hide="filterConfig.expandFilters" ng-if="page !== 'watch'">
            <md-button class="md-primary width-100" ng-click="filterConfig.expandFilters=!filterConfig.expandFilters">
                <md-icon>filter_list</md-icon>
            </md-button>
        </div>

        <div class="animate" ng-class="(filterConfig.expandFilters) ? 'ease-in' : 'ease-out'" ng-if="page !== 'watch'">
            <md-input-container ng-if="page !== 'topten'">
              <label>search tags</label>
               <input type="text" ng-model="characterTags" uib-typeahead="stat.tag for stat in filterConfig.statTags | filter: $viewValue | limitTo: 10" typeahead-on-select="passTag(characterTags); characterTags = ''"><!--  -->
           </md-input-container>
            <div class="search-tag-list-container" ng-hide="filterConfig.searchTags===undefined || filterConfig.searchTags==='' || filterConfig.searchTags===null">
               <ul class="tag-list" layout="column">
                    <li class="tag-bubble" ng-repeat="tag in filterConfig.tagsForFilter track by $index">
                        {{tag}}
                        <a class="bin-style clickable pull-right" aria-hidden="true" delete-search-tag="{{tag}}">
                          <md-icon>delete</md-icon>
                        </a>
                    </li>
                </ul>
           </div>
            <div ng-hide="filterConfig.isList === 'slider' || page === 'topten'">
              <label>
                <md-icon>sort</md-icon>
              </label>
              <md-select ng-model="filterConfig.sortType" ng-init="filterConfig.sortType = filterConfig.selectListOptions.sortOptions[filterConfig.selectListOptions.sortOption].v"
                         aria-label="sort type">
                <md-option ng-repeat="so in filterConfig.selectListOptions.sortOptions" value="{{so.v}}">
                  {{so.n}}
                </md-option>
              </md-select>
            </div>
            <md-input-container class="clickable" ng-hide="filterConfig.isList === 'slider'" ng-click="filterConfig.sortReverse = !filterConfig.sortReverse">
              <label>
                <md-icon>sort</md-icon>
              </label>
              <input type="text" value="{{filterConfig.sortReverse ? 'Descending' : 'Ascending'}}" disabled>
            </md-input-container>
            <div class="input-group mt" ng-if="page === 'animeitem'">
              <md-checkbox data-ng-model="filterConfig.ongoingList" ng-change="itemsAvailable()" aria-label="hide completed">
                Hide completed
              </md-checkbox>
            </div>
            <div ng-if="page !== 'character' && page !== 'topten'" ng-hide="filterConfig.ongoingList === true">
                <md-select ng-model="filterConfig.search.status" ng-init="filterConfig.search.status = false" aria-label="complete status filter">
                  <md-option ng-repeat="so in filterConfig.selectListOptions.status" value="{{so.v}}">
                    {{so.n}}
                  </md-option>
                </md-select>
            </div>
            <div ng-if="page === 'animeitem'" ng-show="filterConfig.ongoingList === true">
                <md-select ng-model="filterConfig.search.onHold" ng-init="filterConfig.search.onHold = false" aria-label="on hold filter">
                  <md-option ng-repeat="so in filterConfig.selectListOptions.onHold" value="{{so.v}}">
                    {{so.n}}
                  </md-option>
                </md-select>
            </div>
            <div ng-if="page !== 'character'">
              <md-select ng-model="filterConfig.search[filterConfig.selectListOptions.mediaType]" ng-init="filterConfig.search[filterConfig.selectListOptions.mediaType] = ''"
                         aria-label="media type filter">
                    <md-option ng-repeat="so in filterConfig.selectListOptions.media" value="{{so.v}}">
                      {{so.n}}
                    </md-option>
              </md-select>
            </div>
            <div ng-if="page !== 'character' && page !== 'topten'">
                <md-select ng-model="filterConfig.search[filterConfig.selectListOptions.repeatType]"
                           ng-init="filterConfig.search[filterConfig.selectListOptions.repeatType] = ''"
                           aria-label="repeating filter">
                        <md-option ng-repeat="so in filterConfig.selectListOptions.repeating" value-"{{so.v}}">
                          {{so.n}}
                        </md-option>
                </md-select>
            </div>
            <div class="input-group mt" ng-if="page !== 'character' && page !== 'topten'">
                <div class="input-group-addon clickable" data-ng-click="filterConfig.ratingLevel=undefined">
                    <i class="fa fa-star"></i>
                </div>
                <uib-rating class="form-control rating-stars clickable" ng-model="filterConfig.ratingLevel" readonly="false" max="filterConfig.ratingActions.maxRating" on-hover="hoveringOver(value)" on-leave="filterConfig.ratingActions.overStar = null" id="rating" name="rating"></uib-rating>
                <div class="input-group-addon">
                    <span data-ng-show="filterConfig.ratingActions.overStar!=null"
                          class="label rating-label"
                          ng-class="{'label-warning': filterConfig.ratingActions.percent<40, 'label-info': filterConfig.ratingActions.percent>=30 && filterConfig.ratingActions.percent<70, 'label-success': filterConfig.ratingActions.percent>=70}">{{filterConfig.ratingActions.percent}}%</span>
                </div>
            </div>
            <div ng-if="page === 'character'">
              <md-select ng-model="filterConfig.media" ng-init="filterConfig.media = ''" aria-label="series filter">
                <md-option ng-repeat="so in filterConfig.selectListOptions.media" value="{{so.v}}">
                  {{so.n}}
                </md-option>
              </md-select>
            </div>
            <div ng-if="page === 'character'">
              <md-input-container>
                <label>series</label>
                <input type="text" ng-model="filterConfig.seriesFilter" uib-typeahead="series.name for series in filterConfig.series | filter: $viewValue | limitTo: 5">
              </md-input-container>
            </div>
            <div class="input-group mt" ng-if="page === 'character'">
              <md-input-container>
                <label>voice</label>
                <input type="text" ng-model="filterConfig.search.voice" uib-typeahead="voice.name for voice in filterConfig.voiceActors | filter: $viewValue | limitTo: 5">
              </md-input-container>
            </div>
            <div class="input-group mt" ng-if="page === 'topten'">
                <md-checkbox data-ng-model="filterConfig.search.isFavourite" ng-change="(filterConfig.search.isFavourite) ? true : filterConfig.search.isFavourite = ''"
                            aria-label="favourite filter">
                            Favourite?
                </md-checkbox>
            </div>
            <div class="input-group mt" ng-if="page === 'topten'">
                <md-checkbox data-ng-model="filterConfig.search.isRanked" ng-change="(filterConfig.search.isRanked) ? true : filterConfig.search.isRanked = ''"
                             aria-label="ranked filter">
                             Ranked?
                </md-checkbox>
            </div>
            <div ng-if="page !== 'topten'" data-ng-show="filterConfig.areTagless">
              <md-checkbox data-ng-model="filterConfig.taglessItem" aria-label="tagless filter">
                Tagless?
              </md-checkbox>
            </div>
        </div>
    </div>
    <div layout="column" ng-if="page === 'task'">
        <md-input-container>
            <label>search</label>
           <input type="text" ng-model="filterConfig.search.description">
        </md-input-container>
        <md-input-container>
          <md-tooltip md-direction="top">
            Showing {{ (filterConfig.showingCount = (filteredItems = (items | filter: filterConfig.search | calendarFilter:filterConfig.datesSelected)).length) }} tasks.
          </md-tooltip>
          <label> </label>
          <input type="text"
                 value="Showing {{ (filterConfig.showingCount = (filteredItems = (items | filter: filterConfig.search | calendarFilter:filterConfig.datesSelected)).length) }} tasks." disabled>
        </md-input-container>
        <md-input-container>
          <md-tooltip md-direction="top">
            {{ (filteredItems | filter: { complete: false }).length }} remaining of {{ filterConfig.showingCount }} current tasks.
          </md-tooltip>
          <label> </label>
          <input type="text"
                 value="{{ (filteredItems | filter: { complete: false }).length }} remaining of {{ filterConfig.showingCount }} current tasks." disabled>
        </md-input-container>
        <div>
          <md-checkbox data-ng-model="filterConfig.datesSelected">
            view future tasks
          </md-checkbox>
        </div>
    </div>
</div>
