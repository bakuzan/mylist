angular.module('mylist').run(['$templateCache',function(t){'use strict';t.put('/modules/animeitems/templates/anime-item.html','<div class="list-group-item col-lg-12 col-md-12 col-sm-12" list-back={{ctrl.trustAsResourceUrl(animeitem.image)}}><div class=view-item-top><img ng-if="::animeitem.mal && animeitem.mal.id > 0" class="absolute position-top position-right" src=https://myanimelist.net/favicon.ico> <small class=list-group-item-text><time ng-if="animeitem.latest.substring(0,10)===animeitem.meta.updated.substring(0,10)" title="{{animeitem.meta.updated | date: \'yyyy-MMM-dd HH:mm\'}}" ng-bind="ctrl.latestDate(animeitem.latest, animeitem.meta.updated)"></time> <time ng-if="animeitem.latest.substring(0,10)!==animeitem.meta.updated.substring(0,10)" title="{{animeitem.latest | date: \'yyyy-MMM-dd\'}}" ng-bind="ctrl.latestDate(animeitem.latest, animeitem.meta.updated)"></time></small><h4 class="list-group-item-heading clickable" data-ng-bind=animeitem.title ng-click="(ctrl.whichController === \'watch\') ? ctrl.watchAnime(animeitem._id) :\r\n                  (ctrl.filterConfig.viewItem === animeitem) ? ctrl.filterConfig.viewItem = \'\' : ctrl.filterConfig.viewItem = animeitem"></h4><p class=list-group-item-text><a class="clickable decoration-none" ng-if="::ctrl.whichController === \'animeitem\' && !animeitem.status" ng-click=ctrl.tickOff(animeitem)><i class="fa fa-plus-square"></i></a> <span data-ng-bind=animeitem.episodes></span><span ng-bind="\'/\' + animeitem.finalEpisode" ng-if="animeitem.finalEpisode !== 0"></span><span> Episodes</span> <span class="item-icons green-text" ng-if="animeitem.status === true"><i class="fa fa-check"></i></span> <span class=item-icons ng-if="animeitem.disc===true"><i class="glyphicon glyphicon-cd"></i></span> <span class=item-icons ng-if="animeitem.reWatching===true"><i class="fa fa-repeat"></i></span></p></div><div class=view-item-detail ng-if="::ctrl.whichController !== \'watch\'" ng-show="ctrl.filterConfig.viewItem === animeitem"><div class=item-detail><p><em class=text-muted data-ng-if="animeitem.rating==0">No rating.</em><uib-rating data-ng-if="animeitem.rating!=0" data-ng-model=animeitem.rating class=list-item-rating-stars read-only=true max=ctrl.filterConfig.ratingActions.maxRating id=rating name=rating></uib-rating></p><p ng-if="animeitem.reWatchCount!=0">{{animeitem.reWatchCount}} re-watches.</p></div><div class=item-dates><small><span data-ng-bind="animeitem.start | date:\'yyyy-MMM-dd\'"></span> started.<br><span ng-if="animeitem.end!==undefined && animeitem.end!==null">{{animeitem.end | date:\'yyyy-MMM-dd\'}} ended.</span></small></div><a class=clickable ng-if="::animeitem.mal && animeitem.mal.id > 0" href=https://myanimelist.net/anime/{{animeitem.mal.id}} target=_blank>View on MAL</a> <a class=clickable ng-click=ctrl.viewItemHistory()>View history</a><div class=item-actions data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == animeitem.user._id))"><a class="btn btn-accent" href=/#!/animeitems/{{animeitem._id}}><i class="fa fa-eye"></i> </a><a class="btn btn-primary" href=/#!/animeitems/{{animeitem._id}}/edit><i class="glyphicon glyphicon-edit"></i></a></div></div></div>'),t.put('/modules/animeitems/templates/list-filters.html','<div ng-class="(filterConfig.expandFilters) ? \'popout-filters-container animate-transition\' : \'animate-transition\'" lose-interest><div ng-if="page !== \'task\'"><div class=has-float-label><!-- input-group --><!--<div class="input-group-addon">\r\n                <i class="fa fa-search"></i>\r\n            </div>--> <input class=form-control placeholder=" " ng-model=filterConfig.search[filterConfig.selectListOptions.searchName]><label for=search>search</label></div><div class="input-group mt" ng-if="items !== undefined"><div class=input-group-addon><i class="fa fa-list-ol"></i></div><input class=form-control value="Showing {{ (filterConfig.showingCount = (items | filter: filterConfig.search | mediaFilter: filterConfig.media | ratingFilter: filterConfig.ratingLevel | tagFilter: filterConfig.searchTags:filterConfig.taglessItem).length) }} items." disabled ng-if="page !== \'topten\' && page !== \'watch\'"> <input class=form-control value="Showing {{ (filterConfig.showingCount = (items | filter: filterConfig.search).length) }} items." disabled ng-if="page === \'topten\' || page === \'watch\'"></div><div class="input-group mt" ng-hide=filterConfig.expandFilters ng-if="page !== \'watch\'"><div class="input-group-addon clickable" ng-click="filterConfig.expandFilters=!filterConfig.expandFilters"><i class="fa fa-filter"></i></div></div><div class=animate ng-class="(filterConfig.expandFilters) ? \'ease-in\' : \'ease-out\'" ng-if="page !== \'watch\'"><div class="input-group mt" ng-if="page !== \'topten\'"><div class="input-group-addon clickable" clear-tag-values><i class="fa fa-tags"></i></div><input class=form-control placeholder="search tags - tag1,tag2.." ng-model=characterTags uib-typeahead="stat.tag for stat in filterConfig.statTags | filter: $viewValue | limitTo: 10" typeahead-on-select="passTag(characterTags); characterTags = \'\'"><!--  --></div><div class="input-group mt search-tag-list-container" ng-hide="filterConfig.searchTags===undefined || filterConfig.searchTags===\'\' || filterConfig.searchTags===null"><ul class="tag-list col-lg-12 col-md-12"><li class="tag-bubble col-lg-12 col-md-12" ng-repeat="tag in filterConfig.tagsForFilter track by $index">{{tag}} <a class="bin-style clickable pull-right" aria-hidden=true delete-search-tag={{tag}}><i class="fa fa-trash-o"></i></a></li></ul></div><div class="input-group mt" ng-hide="filterConfig.isList === \'slider\' || page === \'topten\'"><div class=input-group-addon><i class="fa fa-sort"></i></div><select class=form-control ng-model=filterConfig.sortType ng-init="filterConfig.sortType = filterConfig.selectListOptions.sortOptions[filterConfig.selectListOptions.sortOption].v" ng-options="so.v as so.n for so in filterConfig.selectListOptions.sortOptions"></select></div><div class="input-group mt clickable" ng-hide="filterConfig.isList === \'slider\'" ng-click="filterConfig.sortReverse = !filterConfig.sortReverse"><div class=input-group-addon><i class=fa ng-class="sortReverse ? \'fa-sort-amount-desc\' : \'fa-sort-amount-asc\' "></i></div><input class=form-control value=Ascending ng-show=!filterConfig.sortReverse disabled> <input class=form-control value=Descending ng-show=filterConfig.sortReverse disabled></div><div class="input-group mt" ng-if="page === \'animeitem\'"><div class=input-group-addon><i class=fa ng-class="(filterConfig.ongoingList) ? \'fa-compress\' : \'fa-expand\'"></i></div><input class=phantom-control type=checkbox data-ng-model=filterConfig.ongoingList ng-change=itemsAvailable()></div><div class="input-group mt" ng-if="page !== \'character\' && page !== \'topten\'" ng-hide="filterConfig.ongoingList === true"><div class=input-group-addon><i class="fa fa-check"></i></div><select class=form-control ng-model=filterConfig.search.status ng-init="filterConfig.search.status = false" ng-options="so.v as so.n for so in filterConfig.selectListOptions.status"></select></div><div class="input-group mt" ng-if="page === \'animeitem\'" ng-show="filterConfig.ongoingList === true"><div class=input-group-addon><i class="fa fa-pause"></i></div><select class=form-control ng-model=filterConfig.search.onHold ng-init="filterConfig.search.onHold = false" ng-options="so.v as so.n for so in filterConfig.selectListOptions.onHold"></select></div><div class="input-group mt" ng-if="page !== \'character\'"><div class=input-group-addon><i class=glyphicon ng-class="{\'glyphicon-cd\' : filterConfig.selectListOptions.mediaType === \'disc\',\r\n                                \'glyphicon-book\' : filterConfig.selectListOptions.mediaType === \'hardcopy\',\r\n                                \'glyphicon-folder-open\' : filterConfig.selectListOptions.mediaType === \'type\' }"></i></div><select class=form-control ng-model=filterConfig.search[filterConfig.selectListOptions.mediaType] ng-init="filterConfig.search[filterConfig.selectListOptions.mediaType] = \'\'" ng-options="so.v as so.n for so in filterConfig.selectListOptions.media"></select></div><div class="input-group mt" ng-if="page !== \'character\' && page !== \'topten\'"><div class=input-group-addon><i class="fa fa-repeat"></i></div><select class=form-control ng-model=filterConfig.search[filterConfig.selectListOptions.repeatType] ng-init="filterConfig.search[filterConfig.selectListOptions.repeatType] = \'\'" ng-options="so.v as so.n for so in filterConfig.selectListOptions.repeating"></select></div><div class="input-group mt" ng-if="page !== \'character\' && page !== \'topten\'"><div class="input-group-addon clickable" data-ng-click="filterConfig.ratingLevel=undefined"><i class="fa fa-star"></i></div><uib-rating class="form-control rating-stars clickable" ng-model=filterConfig.ratingLevel readonly max=filterConfig.ratingActions.maxRating on-hover=hoveringOver(value) on-leave="filterConfig.ratingActions.overStar = null" id=rating name=rating></uib-rating><div class=input-group-addon><span data-ng-show="filterConfig.ratingActions.overStar!=null" class="label rating-label" ng-class="{\'label-warning\': filterConfig.ratingActions.percent<40, \'label-info\': filterConfig.ratingActions.percent>=30 && filterConfig.ratingActions.percent<70, \'label-success\': filterConfig.ratingActions.percent>=70}">{{filterConfig.ratingActions.percent}}%</span></div></div><div class="input-group mt" ng-if="page === \'character\'"><div class=input-group-addon><i class="fa fa-book"></i></div><select class=form-control ng-model=filterConfig.media ng-init="filterConfig.media = \'\'" ng-options="so.v as so.n for so in filterConfig.selectListOptions.media"></select></div><div class="input-group mt" ng-if="page === \'character\'"><div class=input-group-addon><i class="fa fa-book"></i></div><input class=form-control placeholder="search series" ng-model=filterConfig.seriesFilter uib-typeahead="series.name for series in filterConfig.series | filter: $viewValue | limitTo: 5"></div><div class="input-group mt" ng-if="page === \'character\'"><div class=input-group-addon><i class="fa fa-microphone"></i></div><input class=form-control placeholder="search voice" ng-model=filterConfig.search.voice uib-typeahead="voice.name for voice in filterConfig.voiceActors | filter: $viewValue | limitTo: 5"></div><div class="input-group mt" ng-if="page === \'topten\'"><div class=input-group-addon><i class="fa fa-star" style="color: gold"></i></div><input class=phantom-control type=checkbox data-ng-model=filterConfig.search.isFavourite ng-change="(filterConfig.search.isFavourite) ? true : filterConfig.search.isFavourite = \'\'"></div><div class="input-group mt" ng-if="page === \'topten\'"><div class=input-group-addon><i class="fa fa-trophy trophy-5"></i></div><input class=phantom-control type=checkbox data-ng-model=filterConfig.search.isRanked ng-change="(filterConfig.search.isRanked) ? true : filterConfig.search.isRanked = \'\'"></div><div class="input-group mt" ng-if="page !== \'topten\'" data-ng-show=filterConfig.areTagless><div class=input-group-addon><span class="fa-stack fa-md"><i class="fa fa-tag fa-stack-1x"></i> <i class="fa fa-ban fa-stack-2x text-danger"></i></span></div><input class=phantom-control type=checkbox data-ng-model=filterConfig.taglessItem></div></div></div><div ng-if="page === \'task\'"><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input class=form-control placeholder=search ng-model=filterConfig.search.description></div><div class="col-lg-12 col-md-12 col-sm-12 input-group mt"><div class=input-group-addon><i class="fa fa-list-ol"></i></div><input class=form-control value="Showing {{ (filterConfig.showingCount = (filteredItems = (items | filter: filterConfig.search | calendarFilter:filterConfig.datesSelected)).length) }} tasks." disabled></div><div class="col-lg-12 col-md-12 col-sm-12 mt input-group"><div class=input-group-addon><i class="fa fa-check-square"></i></div><input class=form-control value="{{ (filteredItems | filter: { complete: false }).length }} remaining of {{ filterConfig.showingCount }} current tasks." disabled></div><div class="input-group mt"><div class=input-group-addon><i class="fa fa-calendar-o"></i></div><input class=phantom-control type=checkbox data-ng-model=filterConfig.datesSelected></div></div></div>'),t.put('/modules/animeitems/templates/page-controls.html','<div class="paging-controls col-lg-12 col-md-12 col-sm-12" id=list-paging-controls keycuts><div id=list-paging-controls-inner-container sticky><div><button class="btn btn-accent width-20" ng-click=first()><i class="fa fa-backward"></i></button> <button class="btn btn-primary width-20" ng-disabled="pageConfig.currentPage <= 0" ng-click=prev()><i class="fa fa-chevron-left"></i></button> <span>{{pageConfig.currentPage+1}}</span> <span>/</span> <span>{{pageCount}}</span> <button class="btn btn-primary width-20" ng-disabled="pageConfig.currentPage >= pageCount - 1" ng-click=next()><i class="fa fa-chevron-right"></i></button> <button class="btn btn-accent width-20" ng-click=last()><i class="fa fa-forward"></i></button></div></div></div>'),t.put('/modules/animeitems/views/create-animeitem.client.view.html','<section data-ng-controller="CreateAnimeController as ctrl" data-ng-show=ctrl.authentication.user><header class=page-header><h1 ng-bind="ctrl.config.title + \' Anime\'"></h1></header><div class=col-md-12 loading-spinner name=editAnime size=fullscreen><form name=animeForm class=form-horizontal data-ng-submit=ctrl.submit() novalidate autocomplete=off><fieldset><div class=form-group ng-class="{ \'has-error\' : animeForm.title.$invalid && !animeForm.title.$pristine }"><label for=title class="col-md-2 control-label">Title</label><div class=col-md-6 data-mal-search=ctrl.config.malSearchType data-mal-search-model=ctrl.animeitem.title data-mal-search-options=ctrl.malSearchOptions data-mal-search-select=ctrl.selectMalEntry></div><div class=col-md-4><p ng-show="animeForm.title.$invalid && !animeForm.title.$pristine" class=help-block>The Title is required.</p><span ng-show=animeForm.title.$valid class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : animeForm.episodes.$invalid && !animeForm.episodes.$pristine }"><label for=episodes class="col-md-2 control-label">Episodes</label><div class=col-md-6><input type=number class="col-md-6 form-control" data-ng-model=ctrl.animeitem.episodes min=0 ng-change=ctrl.addedEpisodes() id=episodes name=episodes placeholder=0 required></div><div class=col-md-4><p ng-show="animeForm.episodes.$invalid && !animeForm.episodes.$pristine" class=help-block>Episodes is a whole number and is required.</p><span ng-show=animeForm.episodes.$valid class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : animeForm.start.$invalid && !animeForm.start.$pristine }" ng-if=::ctrl.config.isCreate><label for=start class="col-md-2 control-label">Start</label><div class=col-md-6><input type=date class=form-control data-ng-model=ctrl.animeitem.start id=start name=start placeholder="" format-date required></div><div class=col-md-4><p ng-show="animeForm.start.$invalid && !animeForm.start.$pristine" class=help-block>Start date is required.</p><span ng-show="animeForm.start.$valid && !animeForm.start.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : animeForm.latest.$invalid }"><label for=latest class="col-md-2 control-label">Latest</label><div class=col-md-6><input type=date class=form-control data-ng-model=ctrl.animeitem.latest id=latest name=latest format-date required></div><div class=col-md-4><p ng-show="animeForm.latest.$invalid && !animeForm.latest.$pristine" class=help-block>Latest date must be \'dd/mm/yyyy\' and is required.</p><span ng-show="animeForm.latest.$valid && !animeForm.latest.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-if=::ctrl.config.isCreate><label for=season class="col-md-2 control-label">In Season?</label><div class=col-md-6><input type=checkbox class=form-control data-ng-model=ctrl.season id=season name=season></div></div><div class=form-group ng-if=::!ctrl.config.isCreate><label for=status class="col-md-2 control-label">Completed?</label><div class=col-md-6><input type=checkbox class=form-control data-ng-model=ctrl.animeitem.status data-ng-checked="ctrl.animeitem.episodes === ctrl.animeitem.finalEpisode && ctrl.animeitem.finalEpisode!=0 || ctrl.animeitem.end!==null && ctrl.animeitem.reWatching===true" data-ng-true-value=true id=status name=status disabled></div></div><p class="clickable accent-text" ng-click="ctrl.section.showAdditionals=!ctrl.section.showAdditionals"><i class=fa ng-class="ctrl.section.showAdditionals ? \'fa-minus-square\' : \'fa-plus-square\'"></i> Additional properties</p><div ng-show=ctrl.section.showAdditionals><div class=form-group ng-if=::!ctrl.config.isCreate><label for=rating class="col-md-2 control-label">Rating</label><div class=col-md-6><uib-rating class="form-control clickable rating-stars" data-ng-model=ctrl.animeitem.rating readonly max=ctrl.config.ratingActions.maxRating on-hover=ctrl.hoveringOver(value) on-leave="overStar = null" id=rating name=rating></uib-rating></div><span data-ng-show="ctrl.config.ratingActions.overStar!=null" class=label ng-class="{\'label-warning\': ctrl.config.ratingActions.percent<40, \'label-info\': ctrl.config.ratingActions.percent>=30 && ctrl.config.ratingActions.percent<70, \'label-success\': ctrl.config.ratingActions.percent>=70}" ng-bind="ctrl.config.ratingActions.percent + \'%\'"></span></div><div class=form-group><label for=image class="col-md-2 control-label">Image</label><div class=col-md-6><input type=file class=form-control file-model=ctrl.myFile accept="image/png, image/jpeg"></div><div class="col-md-4 form-group"><a class="btn btn-primary" data-ng-click=ctrl.uploadFile() data-ng-disabled="ctrl.myFile===\'\' || ctrl.myFile===null || ctrl.myFile===undefined">Upload File</a></div></div><div class=form-group ng-class="{ \'has-error\' : animeForm.manga.$invalid && !animeForm.manga.$pristine }"><label for=manga class="col-md-2 control-label">Manga?</label><div class=col-md-6><select class=form-control data-ng-options="manga.title for manga in ctrl.mangaitems | orderBy: \'title\' track by manga._id" data-ng-model=ctrl.animeitem.manga id=manga name=manga><option value="">-- Link to a manga --</option></select></div><div class=col-md-4><p ng-show="animeForm.manga.$invalid && !animeForm.manga.$pristine" class=help-block>The manga is required.</p><span ng-show="animeForm.manga.$valid && !animeForm.manga.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group><label for=disc class="col-md-2 control-label">Disc?</label><div class=col-md-6><input type=checkbox class=form-control data-ng-model=ctrl.animeitem.disc id=disc name=disc></div></div></div><p class="clickable accent-text" ng-click="ctrl.section.showOthers=!ctrl.section.showOthers"><i class=fa ng-class="ctrl.section.showOthers ? \'fa-minus-square\' : \'fa-plus-square\'"></i> Completion properties</p><div ng-show=ctrl.section.showOthers><div class=form-group ng-if=::!ctrl.config.isCreate ng-show="!ctrl.animeitem.status || ctrl.animeitem.reWatching"><label for=onHold class="col-md-2 control-label">On Hold?</label><div class=col-md-6><input type=checkbox class=form-control data-ng-model=ctrl.animeitem.onHold id=onHold name=onHold></div></div><div class=form-group ng-if=::!ctrl.config.isCreate><label for=season class="col-md-2 control-label">In Season?</label><div ng-class="(ctrl.animeitem.season.season === null) ? \'col-md-6\' : \'col-md-3\'"><select class=form-control ng-options="option.text as option.text for option in ctrl.config.commonArrays.seasons" ng-model=ctrl.animeitem.season.season ng-change=ctrl.setInSeason() id=season name=season><option value="">No Season</option></select></div><div class=col-md-3 ng-if="ctrl.animeitem.season.year !== null"><input class="form-control text-center" ng-model=ctrl.animeitem.season.year disabled></div></div><div class=form-group ng-if=::!ctrl.config.isCreate ng-class="{ \'has-error\' : animeForm.end.$invalid }"><label for=end class="col-md-2 control-label">End</label><div class=col-md-6><input type=date class=form-control data-ng-model=ctrl.animeitem.end id=end name=end format-date></div><div class=col-md-4><span ng-show="animeForm.end.$valid && !animeForm.end.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : animeForm.finalEpisode.$invalid && !animeForm.finalEpisode.$pristine }" ng-hide="ctrl.animeitem.end!=null && ctrl.animeitem.episodes===ctrl.animeitem.finalEpisode || ctrl.animeitem.end!=null && ctrl.animeitem.reWatching===true "><label for=finalEpisode class="col-md-2 control-label">Final episode</label><div class=col-md-6><input type=number class=form-control data-ng-model=ctrl.animeitem.finalEpisode min=0 id=finalEpisode name=finalEpisode placeholder=0></div><div class=col-md-4><p ng-show="animeForm.finalEpisode.$invalid && !animeForm.finalEpisode.$pristine" class=help-block>Final episode is a whole number and is required.</p><!--<p ng-show="isNumber(animeForm.chapters)" class="help-block">Chapter number should be a full number.</p>--> <span ng-show="animeForm.finalEpisode.$valid && !animeForm.finalEpisode.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-if=::!ctrl.config.isCreate data-ng-show="ctrl.animeitem.status === true"><label for=reWatching class="col-md-2 control-label">Re-watching?</label><div class=col-md-6><input type=checkbox class=form-control data-ng-model=ctrl.animeitem.reWatching data-ng-disabled=ctrl.animeitem.reWatching data-ng-change="ctrl.animeitem.episodes=0;" id=reWatching name=reWatching></div></div></div><p class="clickable accent-text" ng-click="ctrl.section.showItemTags=!ctrl.section.showItemTags"><i class=fa ng-class="ctrl.section.showItemTags ? \'fa-minus-square\' : \'fa-plus-square\'"></i> Tag properties</p><div ng-show=ctrl.section.showItemTags><div class=form-group ng-class="{ \'has-error\' : animeForm.tags.$invalid && !animeForm.tags.$pristine }"><label for=tags class="col-md-2 control-label">Tags</label><div class=col-md-6><input class=form-control data-ng-model=ctrl.newTag enter-tag=ctrl.addTag() id=tags name=tags placeholder=tags... uib-typeahead="stat.tag for stat in ctrl.config.statTags | filter: $viewValue | limitTo: 10"></div><div class="col-md-4 form-group"><a class="btn btn-primary" data-ng-click=ctrl.addTag() data-ng-disabled="ctrl.newTag===\'\' || ctrl.newTag===null || ctrl.newTag===undefined">Add Tag</a></div></div><div class="form-group mt"><ul class="tag-list col-md-12"><li class="tag-bubble col-md-2" ng-repeat="tag in ctrl.animeitem.tags">{{tag.text}} <a class="bin-style clickable pull-right" aria-hidden=true ng-click=ctrl.removeTag(tag.text)><i class="fa fa-times"></i></a></li></ul></div><div class=form-group><ul class="tag-list col-md-12"><li class="tag-bubble col-md-2" ng-repeat="tag in ctrl.tagArray track by $index">{{tag.text}} <a class="bin-style clickable pull-right" aria-hidden=true ng-click=ctrl.dropTag(tag.text)><i class="fa fa-trash-o"></i></a></li></ul></div></div><div class="form-group padded-medium"><input type=submit value={{ctrl.config.title}} class="btn btn-default" ng-disabled=animeForm.$invalid>&nbsp; - &nbsp;<a href=/#!/animeitems>Back</a></div><div data-ng-show=ctrl.error class=text-danger><strong data-ng-bind=ctrl.error></strong></div></fieldset></form></div></section>'),t.put('/modules/animeitems/views/list-animeitems.client.view.html','<section data-ng-show=ctrl.authentication.user><div class=fixed-header><h1><span ng-bind="::ctrl.whichController === \'watch\' ? \'Watch list\' : \'Anime list\'"></span> <button class="btn btn-primary show-actions" ng-init="inTheWay = false" ng-click="inTheWay = !inTheWay">Toggle actions</button></h1></div><div class=container><div class="col-lg-4 col-md-4 col-sm-4 item-filter-container" ng-class="{ \'in-the-way\' : inTheWay }"><div list-filters filter-config=ctrl.filterConfig items=ctrl.animeitems page=ctrl.whichController></div></div><div class="col-lg-3 col-md-5 col-sm-5 item-placeholder-container"></div><div class="col-lg-8 col-md-6 col-sm-6 item-list-container" loading-spinner name=anime size=fullscreen><div page-controls page-config=ctrl.pageConfig showing-count=ctrl.filterConfig.showingCount></div><div class="list-group col-lg-12 col-md-12 col-sm-12"><div anime-item-model data-ng-repeat="animeitem in ctrl.animeitems | orderBy: ctrl.filterConfig.sortType:ctrl.filterConfig.sortReverse | filter: ctrl.filterConfig.search | ratingFilter: ctrl.filterConfig.ratingLevel | tagFilter: ctrl.filterConfig.searchTags:ctrl.filterConfig.taglessItem | startFrom: ctrl.pageConfig.currentPage*ctrl.pageConfig.pageSize | limitTo: ctrl.pageConfig.pageSize track by animeitem._id"></div></div></div></div></section>'),t.put('/modules/animeitems/views/view-animeitem.client.view.html','<section data-ng-controller="AnimeitemsController as ctrl" data-ng-init=ctrl.findOne() data-ng-show=ctrl.authentication.user><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 page-header"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="col-lg-3 col-md-3 col-sm-6 col-xs-6 pull-left"><img ng-src={{ctrl.trustAsResourceUrl(ctrl.animeitem.image)}} height=100% width=100%></div><div class="col-lg-9 col-md-9 col-sm-6 col-xs-6"><div class=pull-right data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == ctrl.animeitem.user._id))"><a class="btn btn-accent" href=/#!/animeitems><i class="glyphicon glyphicon-chevron-left"></i> </a><a class="btn btn-success" href=/#!/animeitems/watch/{{ctrl.animeitem._id}} ng-if="ctrl.animeitem.video.files.length > 0"><i class="fa fa-film"></i> </a><a class="btn btn-primary" href=/#!/animeitems/{{ctrl.animeitem._id}}/edit><i class="glyphicon glyphicon-edit"></i> </a><a class="btn btn-danger" data-ng-click=ctrl.remove()><i class="glyphicon glyphicon-trash"></i></a></div><h1 data-ng-bind=ctrl.animeitem.title></h1><span class="glyphicon glyphicon-cd" data-ng-show=ctrl.animeitem.disc></span> <span class=text-muted data-ng-show=ctrl.animeitem.status>(Completed)</span> <span class=text-muted data-ng-show=ctrl.animeitem.reWatching>(Watching)</span><h3>Episode</h3><span data-ng-bind=ctrl.animeitem.episodes></span>/<span data-ng-bind=ctrl.animeitem.finalEpisode></span><div class="related-media accent-alter-text"><p data-ng-if="::ctrl.animeitem.manga && ctrl.animeitem.manga._id">Related manga: <a href=/#!/mangaitems/{{ctrl.animeitem.manga._id}}>{{ctrl.animeitem.manga.title}}</a></p></div><div class="related-media accent-alter-text" ng-if="::ctrl.animeitem.mal && ctrl.animeitem.mal.id > 0"><a class=clickable href=https://myanimelist.net/anime/{{ctrl.animeitem.mal.id}} target=_blank>View on MAL</a></div><div class="col-lg-12 col-md-12 col-sm-12 item-tags"><span class="col-lg-3 col-md-3 col-sm-3 tag-bubble" ng-repeat="tag in ctrl.animeitem.tags">{{tag.text}}</span></div></div></div><div class=text-right><span class=accent-alter-text data-ng-show=ctrl.animeitem.status>{{ ctrl.animeitem.reWatchCount }} rewatches</span></div><div class=text-right><em class=accent-alter-text data-ng-show="ctrl.animeitem.rating==0">No rating</em><uib-rating data-ng-model=ctrl.animeitem.rating class=view-item-rating-stars data-ng-show="ctrl.animeitem.rating!==0" read-only=true max=ctrl.filterConfig.ratingActions.maxRating id=rating name=rating></uib-rating></div></div><small class=width-100><em class=accent-alter-text>Start <span data-ng-bind="ctrl.animeitem.start | date:\'yyyy-MMM-dd\'"></span><br>End <span data-ng-bind="ctrl.animeitem.end | date:\'yyyy-MMM-dd\'"></span><br>Latest <span data-ng-bind="ctrl.animeitem.latest | date:\'yyyy-MMM-dd\'"></span><br><span data-ng-bind=ctrl.animeitem.season.season></span>&nbsp;<span ng-bind=ctrl.animeitem.season.year></span></em></small><section class="col-lg-12 col-md-12 col-sm-12" style="top: -85px"><article class="relative width-50 margin-left-auto"><header><h3 ng-if="ctrl.animeitem.meta.history.length > 0" class=margin-5>Episode history</h3><h6 ng-if="ctrl.animeitem.meta.history.length === 0">No recorded history.</h6></header><div class=overflow-auto-hover style="height: 33vh"><table ng-if="ctrl.animeitem.meta.history.length > 0" id=anime-episode-history-table><thead ng-init="ctrl.filterConfig.sortType = \'value\'; ctrl.filterConfig.sortReverse = true"><tr><th><a href="" ng-click="ctrl.filterConfig.sortType = \'value\'; ctrl.filterConfig.sortReverse = !ctrl.filterConfig.sortReverse "># </a><i ng-show="ctrl.filterConfig.sortType == \'value\'" class=fa ng-class="ctrl.filterConfig.sortReverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th><th colspan=2><a href="" ng-click="ctrl.filterConfig.sortType = \'rating\'; ctrl.filterConfig.sortReverse = !ctrl.filterConfig.sortReverse ">Rating </a><i ng-show="ctrl.filterConfig.sortType == \'rating\'" class=fa ng-class="ctrl.filterConfig.sortReverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th><th><a href="" ng-click="ctrl.filterConfig.sortType = \'date\'; ctrl.filterConfig.sortReverse = !ctrl.filterConfig.sortReverse ">Watched </a><i ng-show="ctrl.filterConfig.sortType == \'date\'" class=fa ng-class="ctrl.filterConfig.sortReverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th><th></th></tr></thead><tbody><tr ng-repeat="history in ctrl.animeitem.meta.history | orderBy: ctrl.filterConfig.sortType:ctrl.filterConfig.sortReverse track by history.value"><td>{{history.value | numberFixedLen: 3}}</td><td><uib-rating ng-model=history.rating class=view-item-rating-stars read-only=true max=ctrl.filterConfig.ratingActions.maxRating></uib-rating></td><td class=text-right>{{history.rating}}</td><td>{{history.date | date : \'dd-MM-yyyy HH:mm\'}}</td><td><a class="bin-style clickable" style="position: relative" aria-hidden=true ng-click="ctrl.deleteHistory(ctrl.animeitem, history)"><i class="fa fa-trash-o"></i></a></td></tr></tbody></table></div></article></section></section>'),t.put('/modules/animeitems/views/watch-animeitem.client.view.html','<section ng-controller="WatchAnimeController as ctrl"><div class=relative style="height: 100px"><aside class="float-right margin-top-20"><div data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == ctrl.animeitem.user._id))"><a class="btn btn-accent" href=/#!/animeitems/watch-list><i class="glyphicon glyphicon-chevron-left"></i> </a><a class="btn btn-primary" href=/#!/animeitems/{{ctrl.animeitem._id}}><i class="fa fa-eye"></i></a></div></aside><header class=fixed-header><h2><span ng-bind="\'Watch \' + ctrl.animeitem.title"></span> <span ng-if=ctrl.videoFile.number ng-bind="\'episode #\' +ctrl.videoFile.number"></span></h2></header></div><div class="col-lg-10 col-md-10 col-sm-10"><p class="primary-background text-center padding-5 margin-0" ng-bind=ctrl.videoFile.message ng-if="ctrl.videoFile.message !== \'\'"></p><video class="width-100 view-height-70" id=stream sw-onplay=ctrl.playVideo() ng-src={{ctrl.videoFile.processed}} poster={{trustAsResourceUrl(ctrl.animeitem.image)}} type=video/mp4 controls></video></div><article class="relative width-20 margin-left-auto"><header><h3 class=margin-5>Episodes</h3></header><div><div class=padding-2 ng-if=ctrl.animeitem.status><input type=checkbox class=phantom-control ng-model=ctrl.animeitem.reWatching ng-change=ctrl.startRewatch() ng-disabled=ctrl.animeitem.reWatching> <span ng-bind="\'Rewatch (\' + ctrl.animeitem.reWatchCount + \')\'"></span></div><div class=padding-2 ng-if=ctrl.animeitem.reWatching><span ng-bind="ctrl.animeitem.episodes + \'/\' + ctrl.animeitem.finalEpisode"></span></div></div><div class="view-height-33 overflow-auto-hover"><ul class=list-group id=anime-watch-file-list><li class="cursor-pointer padding-5" ng-class="ctrl.videoFile.file === file.file ? \'loaded\' : \'\'" ng-repeat="file in ctrl.animeitem.video.files" click-pass=file-grabber><span ng-bind="\'#\' + file.number"></span><i class="fa fa-check padding-left-10" style="color: green" ng-show=ctrl.watchedList[file.file]></i></li></ul></div><input type=file accept=video/mp4 file-model=fileGrab style="display: none" id=file-grabber></article></section>'),t.put('/modules/characters/templates/slider.html','<div ng-class="(sliderController.isFullscreen) ? \'slider-full-screen\' : \'\'"><ul class=slider ng-mouseenter=sliderController.enter() ng-mouseleave=sliderController.leave()><li class=slide ng-repeat="slide in (filteredSlides =  (sliderController.slides | filter: sliderController.filterConfig.search | mediaFilter: sliderController.filterConfig.media | seriesFilter:sliderController.filterConfig.seriesFilter | tagFilter: sliderController.filterConfig.searchTags:sliderController.filterConfig.taglessItem))" ng-show=slide.visible ng-if=sliderController.repeater><a href=/#!/characters/{{slide._id}}><img class=slide-image ng-src={{sliderController.trustAsResourceUrl(slide.image)}}><div class=slide-caption><span class=dark-bordered-font-heading>{{slide.name}}</span></div></a></li><a class="left slider-control clickable" ng-click=sliderController.prev() ng-show="filteredSlides.length > 1"><span class="fa fa-chevron-left"></span></a> <a class="right slider-control clickable" ng-click=sliderController.next() ng-show="filteredSlides.length > 1"><span class="fa fa-chevron-right"></span></a> <a class="full-screen-control clickable" ng-click=sliderController.toggleFullscreen() ng-style="{\'color\': (sliderController.isFullscreen ? \'#FFF\' : \'inital\') }"><span class=fa ng-class="(sliderController.isFullscreen) ? \'fa-compress\' : \'fa-arrows-alt\'"></span></a></ul><ul class=slider-indicators><li ng-repeat="slide in sliderController.slides | filter: sliderController.filterConfig.search | mediaFilter: sliderController.filterConfig.media | seriesFilter:sliderController.filterConfig.seriesFilter | tagFilter: sliderController.filterConfig.searchTags:sliderController.filterConfig.taglessItem" ng-click=sliderController.goToSlide($index) class=indicator ng-class="{ \'active\' : slide.visible, \'locked\' : slide.locked }"></li></ul></div>'),t.put('/modules/characters/views/create-character.client.view.html','<section data-ng-controller="CharactersController as ctrl" data-ng-show=ctrl.authentication.user data-ng-init="ctrl.find(); ctrl.findAnime(); ctrl.findManga();"><div class=page-header><h1>New Character</h1></div><div class=col-md-12><form name=characterForm class=form-horizontal data-ng-submit=ctrl.create() novalidate autocomplete=off><fieldset><div class=form-group ng-class="{ \'has-error\' : characterForm.name.$invalid && !characterForm.name.$pristine }"><label for=name class="col-md-2 control-label">Name</label><div class=col-md-6><input class=form-control data-ng-model=ctrl.name id=name name=name placeholder=Name required></div><div class=col-md-4><p ng-show="characterForm.name.$invalid && !characterForm.name.$pristine" class=help-block>The name is required.</p><span ng-show="characterForm.name.$valid && !characterForm.name.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group><label for=image class="col-md-2 control-label">Image</label><div class=col-md-6><input type=file class=form-control file-model=ctrl.myFile accept="image/png, image/jpeg"></div><div class="col-md-4 form-group"><a class="btn btn-primary" data-ng-click=ctrl.uploadFile() data-ng-disabled="ctrl.myFile===\'\' || ctrl.myFile===null || ctrl.myFile===undefined">Upload File</a></div></div><div class=form-group ng-class="{ \'has-error\' : characterForm.anime.$invalid && !characterForm.anime.$pristine }"><label for=anime class="col-md-2 control-label">Anime</label><div class=col-md-6><select class=form-control data-ng-options="anime.title for anime in ctrl.animeitems | orderBy: \'title\' track by anime._id" data-ng-model=ctrl.anime id=anime name=anime><option value="">-- Link to an anime --</option></select></div><div class=col-md-4><p ng-show="characterForm.anime.$invalid && !characterForm.anime.$pristine" class=help-block>The anime is required.</p><span ng-show="characterForm.anime.$valid && !characterForm.anime.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : characterForm.manga.$invalid && !characterForm.manga.$pristine }"><label for=manga class="col-md-2 control-label">Manga</label><div class=col-md-6><select class=form-control data-ng-options="manga.title for manga in ctrl.mangaitems | orderBy: \'title\' track by manga._id" data-ng-model=ctrl.manga id=manga name=manga><option value="">-- Link to a manga --</option></select></div><div class=col-md-4><p ng-show="characterForm.manga.$invalid && !characterForm.manga.$pristine" class=help-block>The manga is required.</p><span ng-show="characterForm.manga.$valid && !characterForm.manga.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : characterForm.voice.$invalid && !characterForm.voice.$pristine }"><label for=voice class="col-md-2 control-label">Voice</label><div class=col-md-6><input class=form-control data-ng-model=ctrl.voice id=voice name=voice placeholder=Voice uib-typeahead="voice.name for voice in ctrl.filterConfig.voiceActors | filter: $viewValue" required></div><div class=col-md-4><p ng-show="characterForm.voice.$invalid && !characterForm.voice.$pristine" class=help-block>The voice is required.</p><span ng-show="characterForm.voice.$valid && !characterForm.voice.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : characterForm.tags.$invalid && !characterForm.tags.$pristine }"><label for=tags class="col-md-2 control-label">Tags</label><div class=col-md-6><input class=form-control data-ng-model=ctrl.newTag enter-tag=ctrl.addTag() id=tags name=tags placeholder=tags... uib-typeahead="stat.tag for stat in ctrl.filterConfig.statTags | filter: $viewValue | limitTo: 10"></div><div class="col-md-4 form-group"><a class="btn btn-primary" data-ng-click=ctrl.addTag() data-ng-disabled="ctrl.newTag===\'\' || ctrl.newTag===null || ctrl.newTag===undefined">Add Tag</a></div></div><div class=form-group><ul class="tag-list col-md-12"><li class="tag-bubble col-md-2" ng-repeat="tag in ctrl.tagArray track by $index">{{tag.text}} <a class="bin-style clickable pull-right" aria-hidden=true ng-click=dropTag(tag.text)><i class="fa fa-trash-o"></i></a></li></ul></div><div class=form-group><input type=submit class="btn btn-default" ng-disabled=characterForm.$invalid>&nbsp; - &nbsp;<a href=/#!/characters>Back</a></div><div data-ng-show=ctrl.error class=text-danger><strong data-ng-bind=ctrl.error></strong></div></fieldset></form></div></section>'),t.put('/modules/characters/views/edit-character.client.view.html','<section data-ng-controller="CharactersController as ctrl" data-ng-show=ctrl.authentication.user data-ng-init="ctrl.findOne(); ctrl.find(); ctrl.findAnime(); ctrl.findManga()"><div class=page-header><h1>Edit Character</h1></div><div class=col-md-12><form name=characterForm class=form-horizontal data-ng-submit=ctrl.update() novalidate autocomplete=off><fieldset><div class=form-group ng-class="{ \'has-error\' : characterForm.name.$invalid && !characterForm.name.$pristine }"><label for=name class="col-md-2 control-label">Name</label><div class=col-md-6><input class=form-control data-ng-model=ctrl.character.name id=name name=name placeholder=Name required></div><div class=col-md-4><p ng-show="characterForm.name.$invalid && !characterForm.name.$pristine" class=help-block>The name is required.</p><span ng-show="characterForm.name.$valid && !characterForm.name.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group><label for=image class="col-md-2 control-label">Image</label><div class=col-md-6><input type=file class=form-control file-model=ctrl.myFile accept="image/png, image/jpeg"></div><div class="col-md-4 form-group"><a class="btn btn-primary" data-ng-click=ctrl.uploadFile() data-ng-disabled="ctrl.myFile===\'\' || ctrl.myFile===null || ctrl.myFile===undefined">Upload File</a></div></div><div class=form-group ng-class="{ \'has-error\' : characterForm.anime.$invalid && !characterForm.anime.$pristine }"><label for=anime class="col-md-2 control-label">Anime</label><div class=col-md-6><select class=form-control data-ng-options="anime.title for anime in ctrl.animeitems | orderBy: \'title\' track by anime._id" data-ng-model=ctrl.character.anime id=anime name=anime><option value="">-- Link to an anime --</option></select></div><div class=col-md-4><p ng-show="characterForm.anime.$invalid && !characterForm.anime.$pristine" class=help-block>The anime is required.</p><span ng-show="characterForm.anime.$valid && !characterForm.anime.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : characterForm.manga.$invalid && !characterForm.manga.$pristine }"><label for=manga class="col-md-2 control-label">Manga</label><div class=col-md-6><select class=form-control data-ng-options="manga.title for manga in ctrl.mangaitems | orderBy: \'title\' track by manga._id" data-ng-model=ctrl.character.manga id=manga name=manga><option value="">-- Link to a manga --</option></select></div><div class=col-md-4><p ng-show="characterForm.manga.$invalid && !characterForm.manga.$pristine" class=help-block>The manga is required.</p><span ng-show="characterForm.manga.$valid && !characterForm.manga.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : characterForm.voice.$invalid && !characterForm.voice.$pristine }"><label for=voice class="col-md-2 control-label">Voice</label><div class=col-md-6><input class=form-control data-ng-model=ctrl.character.voice id=voice name=voice placeholder=Voice uib-typeahead="voice.name for voice in ctrl.filterConfig.voiceActors | filter: $viewValue " required></div><div class=col-md-4><p ng-show="characterForm.voice.$invalid && !characterForm.voice.$pristine" class=help-block>The voice is required.</p><span ng-show="characterForm.voice.$valid && !characterForm.voice.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : characterForm.tags.$invalid && !characterForm.tags.$pristine }"><label for=tags class="col-md-2 control-label">Tags</label><div class=col-md-6><input class=form-control data-ng-model=ctrl.newTag enter-tag=ctrl.addTag() id=tags name=tags placeholder=tags... uib-typeahead="stat.tag for stat in ctrl.filterConfig.statTags | filter: $viewValue"></div><div class="col-md-4 form-group"><a class="btn btn-primary" data-ng-click=ctrl.addTag() data-ng-disabled="ctrl.newTag===\'\' || ctrl.newTag===null || ctrl.newTag===undefined">Add Tag</a></div></div><div class=form-group><ul class="tag-list col-md-12"><li class="tag-bubble col-md-2" ng-repeat="tag in ctrl.character.tags track by $index">{{tag.text}} <a class="bin-style clickable pull-right" aria-hidden=true ng-click=ctrl.removeTag(tag.text)><i class="fa fa-times"></i></a></li></ul></div><div class=form-group><ul class="tag-list col-md-12"><li class="tag-bubble col-md-2" ng-repeat="tag in ctrl.tagArray track by $index">{{tag.text}} <a class="bin-style clickable pull-right" aria-hidden=true ng-click=ctrl.dropTag(tag.text)><i class="fa fa-trash-o"></i></a></li></ul></div><div class=form-group><input type=submit class="btn btn-default" ng-disabled=characterForm.$invalid>&nbsp; - &nbsp;<a href=/#!/characters>Back</a></div><div data-ng-show=error class=text-danger><strong data-ng-bind=error></strong></div></fieldset></form></div></section>'),t.put('/modules/characters/views/list-characters.client.view.html','<section data-ng-controller="CharactersController as ctrl" data-ng-init=ctrl.find() data-ng-show=ctrl.authentication.user keycuts><header class=fixed-header><h1>Characters {{ctrl.filterConfig.isList}} <button class="btn btn-primary show-actions" ng-init="inTheWay = false" ng-click="inTheWay = !inTheWay">Toggle actions</button></h1></header><div class=container><aside class="col-lg-4 col-md-4 col-sm-4 item-filter-container" ng-class="{ \'in-the-way\' : inTheWay }"><div class=view-controls><div tab-container ng-model=ctrl.filterConfig.isList><div tab-view heading=list></div><div tab-view heading=slider></div></div></div><div list-filters filter-config=ctrl.filterConfig items=ctrl.characters page=ctrl.whichController></div></aside><div class="col-lg-3 col-md-5 col-sm-5 item-placeholder-container"></div><section class="col-lg-8 col-md-6 col-sm-6 item-list-container" loading-spinner name=characters size=fullscreen><div page-controls page-config=ctrl.pageConfig showing-count=ctrl.filterConfig.showingCount ng-hide="ctrl.filterConfig.isList === \'slider\'"></div><div class="list-group col-lg-12 col-md-12 col-sm-12" data-ng-show="ctrl.filterConfig.isList===\'list\'"><div data-ng-repeat="character in ctrl.characters | orderBy: ctrl.filterConfig.sortType:ctrl.filterConfig.sortReverse | filter: ctrl.filterConfig.search | mediaFilter: ctrl.filterConfig.media | seriesFilter: ctrl.filterConfig.seriesFilter | tagFilter: ctrl.filterConfig.searchTags:ctrl.filterConfig.taglessItem | startFrom: ctrl.pageConfig.currentPage*ctrl.pageConfig.pageSize | limitTo: ctrl.pageConfig.pageSize track by character._id" character-back={{ctrl.trustAsResourceUrl(character.image)}} class=list-group-item ng-class="viewItem===character ? \'col-lg-12 col-md-12 col-sm-12 character-expanded\' : \' col-lg-6 col-md-6 col-sm-6 character-default\'"><div class="clickable view-item-top" ng-click="viewItem===character ? viewItem=\'\' : viewItem=character"><h4 class=dark-bordered-font-heading data-ng-bind=character.name></h4><p class=list-group-item-text><span class=dark-bordered-font data-ng-bind=character.voice></span></p><span class=dark-bordered-font data-ng-show="character.manga!==undefined && character.manga!==null" data-ng-bind=character.manga.title></span> <span class=dark-bordered-font data-ng-show="character.anime!==undefined && character.manga===null" data-ng-bind=character.anime.title></span></div><div class=view-item-detail ng-if="viewItem===character"><p class=clickable ng-init="showCharacterTags = false" ng-click="showCharacterTags=!showCharacterTags"><i class=fa ng-class="showCharacterTags ? \'fa-minus-square\' : \'fa-plus-square\'"></i> View Tags</p><div class="col-lg-12 col-md-12 col-sm-12 item-tags" ng-show=showCharacterTags><span class="col-md-2 tag-bubble" ng-repeat="tag in character.tags">{{tag.text}}</span></div><div class=item-actions data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id === character.user._id))"><a class="btn btn-accent" href=/#!/characters/{{character._id}}><i class="fa fa-eye"></i> </a><a class="btn btn-primary" href=/#!/characters/{{character._id}}/edit><i class="glyphicon glyphicon-edit"></i></a></div></div><!-- VIEW ITEM END--></div><!-- LIST ITEM END --></div><!-- LIST END --><div class="slider-container col-lg-12 col-md-12 col-sm-12" data-ng-show="ctrl.filterConfig.isList===\'slider\'"><ul slider slides=ctrl.characters filter-config=ctrl.filterConfig interval=1000></ul></div><!-- SLIDER END --></section></div></section>'),t.put('/modules/characters/views/view-character.client.view.html','<section data-ng-controller="CharactersController as ctrl" data-ng-init=ctrl.findOne() data-ng-show=ctrl.authentication.user><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 page-header"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 margin-bottom-10"><div class="col-lg-3 col-md-3 col-sm-6 col-xs-6 pull-left"><img ng-src={{ctrl.trustAsResourceUrl(ctrl.character.image)}} height=100% width=100%></div><div class="col-lg-9 col-md-9 col-sm-6 col-xs-6"><div class=pull-right data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id === ctrl.character.user._id))"><a class="btn btn-accent" href=/#!/characters><i class="glyphicon glyphicon-chevron-left"></i> </a><a class="btn btn-primary" href=/#!/characters/{{ctrl.character._id}}/edit><i class="glyphicon glyphicon-edit"></i> </a><a class="btn btn-danger" data-ng-click=ctrl.remove()><i class="glyphicon glyphicon-trash"></i></a></div><h1 data-ng-bind=ctrl.character.name></h1><p data-ng-show="ctrl.character.anime!==undefined"><span><b>Anime: </b></span><a href=/#!/animeitems/{{ctrl.character.anime._id}} ng-bind=ctrl.character.anime.title></a></p><p data-ng-show="ctrl.character.manga!==undefined"><span><b>Manga: </b></span><a href=/#!/mangaitems/{{ctrl.character.manga._id}} ng-bind=ctrl.character.manga.title></a></p><p><span><b>VA: </b></span><span data-ng-bind=ctrl.character.voice></span></p></div></div><div class="col-lg-12 col-md-12 col-sm-12 item-tags" style="clear: both"><span class="col-lg-2 col-md-2 col-sm-2 tag-bubble" ng-repeat="tag in ctrl.character.tags" ng-bind=tag.text></span></div></div></section>'),t.put('/modules/core/templates/loading-spinner.html','<div id=loader-{{name}}><div class="loader {{size}}" ng-show=active><svg class=circular viewBox="25 25 50 50"><circle class=path cx=50 cy=50 r=20 fill=none stroke-width=2 stroke-miterlimit=10 /></svg></div><ng-transclude ng-hide=active></ng-transclude></div>'),t.put('/modules/core/templates/mal-search.html','<div class=mal-search><div class=has-float-label><input class=form-control name={{malSearchCtrl.options.name}} placeholder={{malSearchCtrl.options.placeholder}} ng-model=malSearchCtrl.searchString ng-model-options="{ debounce: malSearchCtrl.delayInMs }" ng-change=malSearchCtrl.handleSearchString() ng-required=malSearchCtrl.options.required autocomplete={{malSearchCtrl.options.autocomplete}} ng-focus=malSearchCtrl.toggleSearchDropdownOnFocus($event) ng-blur=malSearchCtrl.toggleSearchDropdownOnFocus($event)><label for={{malSearchCtrl.options.name}}>Search for {{malSearchCtrl.type}}...</label><div loading-spinner name={{malSearchCtrl.spinner}} size=control></div></div><span id=selected-result ng-click=malSearchCtrl.displaySelectedItemActions() ng-hide="malSearchCtrl.selectedItem === null"><i class="fa fa-caret-square-o-down"></i><ul class=action-dropdown role=menu ng-show=malSearchCtrl.displayActions anywhere-but-here><li ng-repeat="action in malSearchCtrl.selectedItemActions" ng-click=action.action() role=menuitem>{{action.displayText}}</li><pre class=raw-json ng-show=malSearchCtrl.displayRawJson>\r\n        {{malSearchCtrl.selectedItem | json}}\r\n      </pre></ul></span><ul class=overflow-auto-hover ng-show="malSearchCtrl.hasSearchResults && malSearchCtrl.hasFocus && malSearchCtrl.selectedItem === null"><li ng-repeat="item in malSearchCtrl.searchResults | orderBy: \'title\'" ng-click=malSearchCtrl.processItem(item) class=search-results><img class=image ng-src={{item.image}}><p class="title display-inline-block center-vertically" ng-bind=item.title></p></li></ul></div>'),t.put('/modules/core/views/footer.client.view.html','<div data-ng-controller="HeaderController as footer" data-ng-show=footer.authentication.user><hr><select class=phantom-control ng-model=footer.theme ng-options="option.url as option.name for option in footer.styles | orderBy: \'name\'" ng-change=footer.changeTheme()></select><input type=checkbox class=phantom-control ng-model=footer.timedTheme ng-change=footer.changeTheme()><div><small>{{footer.authentication.user.applicationVersion.name}}</small><br><small>{{footer.authentication.user.applicationVersion.number}}</small><br></div></div>'),t.put('/modules/core/views/header.client.view.html','<div class=container data-ng-controller="HeaderController as header" data-ng-show=header.authentication.user><div class=navbar-header><button class=navbar-toggle type=button data-ng-click=header.toggleCollapsibleMenu()><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href=/#!/tasks class=navbar-brand data-ng-show=header.authentication.user>Schedule</a></div><nav class="collapse navbar-collapse" uib-collapse=!header.isCollapsed role=navigation><ul class="nav navbar-nav" data-ng-if=header.menu.shouldRender(header.authentication.user);><li data-ng-repeat="item in header.menu.items | orderBy: \'position\'" data-ng-if=item.shouldRender(header.authentication.user); ng-switch=item.menuItemType ui-route={{item.uiRoute}} class="cursor-pointer {{item.menuItemClass}}" ng-class="{active: ($uiRoute)}" uib-dropdown="item.menuItemType === \'dropdown\'"><a ng-switch-when=dropdown class=dropdown-toggle uib-dropdown-toggle><span data-ng-bind=item.title></span> <b class=caret></b></a><ul ng-switch-when=dropdown class=dropdown-menu uib-dropdown-menu><li data-ng-repeat="subitem in item.items | orderBy: \'position\'" data-ng-if=subitem.shouldRender(header.authentication.user); ui-route={{subitem.uiRoute}} ng-class="{active: $uiRoute}"><a href=/#!/{{subitem.link}} data-ng-bind=subitem.title></a></li></ul><a ng-switch-default href=/#!/{{item.link}} data-ng-bind=item.title></a></li></ul><ul class="additional-navbar-links nav navbar-nav"><li ng-class="{ active: header.isActive(\'/history\')}"><a href=/#!/history class=navbar-link data-ng-show=header.authentication.user><i class="fa fa-history"></i> History</a></li><li ng-class="{ active: header.isActive(\'/statistics\')}"><a href=/#!/statistics class=navbar-link data-ng-show=header.authentication.user><i class="fa fa-bar-chart"></i> Statistics</a></li><li ng-class="{ active: header.isActive(\'/ratings\')}"><a href=/#!/ratings class=navbar-link data-ng-show=header.authentication.user><i class="fa fa-star"></i> Ratings</a></li></ul><ul class="additional-navbar-links-dropdown nav navbar-nav"><li class=dropdown uib-dropdown><a href=# class=dropdown-toggle data-toggle=dropdown uib-dropdown-toggle><span>More </span><b class=caret></b></a><ul class=dropdown-menu uib-dropdown-menu><li ng-class="{ active: header.isActive(\'/history\')}"><a href=/#!/history class=navbar-link data-ng-show=header.authentication.user><i class="fa fa-history"></i> History</a></li><li ng-class="{ active: header.isActive(\'/statistics\')}"><a href=/#!/statistics class=navbar-link data-ng-show=header.authentication.user><i class="fa fa-bar-chart"></i> Statistics</a></li><li ng-class="{ active: header.isActive(\'/ratings\')}"><a href=/#!/ratings class=navbar-link data-ng-show=header.authentication.user><i class="fa fa-star"></i> Ratings</a></li></ul></li></ul><!--\r\n\t\t<ul class="nav navbar-nav navbar-right" data-ng-hide="authentication.user">\r\n\t\t\t<li ui-route="/signup" ng-class="{active: $uiRoute}">\r\n\t\t\t\t<a href="/#!/signup">Sign Up</a>\r\n\t\t\t</li>\r\n\t\t\t<li class="divider-vertical"></li>\r\n\t\t\t<li ui-route="/signin" ng-class="{active: $uiRoute}">\r\n\t\t\t\t<a href="/#!/signin">Sign In</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n--><ul class="nav navbar-nav navbar-right" data-ng-show=header.authentication.user><li class=dropdown uib-dropdown><a href=# class=dropdown-toggle data-toggle=dropdown uib-dropdown-toggle><b class=caret></b></a><ul class=dropdown-menu uib-dropdown-menu><li><a href=/auth/signout>Signout</a></li></ul></li></ul></nav></div>'),t.put('/modules/history/views/history.client.view.html','<section data-ng-controller="HistoryController as ctrl" ng-init=ctrl.buildHistory() ng-show=ctrl.authentication.user keycuts><header class="fixed-header width-100 secondary-background padding-10" style="top: 50px; left: 0"><div class="view-controls absolute position-right" style="min-width: 165px"><div tab-container ng-model=ctrl.view><div tab-view heading=Anime></div><div tab-view heading=Manga></div></div></div><h1 ng-bind="ctrl.view + \' history\'"></h1><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input class=form-control placeholder=search ng-model=ctrl.filterConfig.search.name></div></header><div class="col-lg-12 col-md-12 col-sm-12 history-list-container relative" style="top: 125px" loading-spinner name=history size=fullscreen><div tab-container ng-model=ctrl.filterConfig.historyFilter><div tab-view ng-repeat="item in ctrl.historyGroups" heading={{::item.name}}></div></div><div class="col-lg-12 col-md-12 col-sm-12 history-list" ng-show="ctrl.view === \'Anime\'"><div class="col-lg-12 col-md-12 col-sm-12 history-list-item" ng-repeat="item in ctrl.animeHistory | filter: ctrl.filterConfig.search.name | historySeparator:\'group\':ctrl.filterConfig.historyFilter | orderBy: [\'-latest\',\'-oldest\'] track by $index"><h4 class="history-group-header clickable" ng-click="viewItem = (viewItem === item.title) ? \'\' : item.title" ng-bind="item.title + \' - (\' + animeHistoryItems.length + \')\'"></h4><div ng-show="viewItem === item.title"><div ng-repeat="episode in (animeHistoryItems = (item.items | historySeparator:\'item\':ctrl.filterConfig.historyFilter | orderBy: [\'-date\',\'-value\'])) track by episode.value"><time class=float-right title="{{episode.date | date: \'dd MMMM HH:mm\'}}" ng-bind=ctrl.happenedWhen(episode.date)></time><p><a href=/#!/animeitems/{{episode.id}} ng-bind=episode.title></a> - Episode {{episode.value}}</p></div></div></div></div><div class="col-lg-12 col-md-12 col-sm-12 history-list" ng-show="ctrl.view === \'Manga\'"><div class="col-lg-12 col-md-12 col-sm-12 history-list-item" ng-repeat="item in ctrl.mangaHistory | filter: ctrl.filterConfig.search.name | historySeparator:\'group\':ctrl.filterConfig.historyFilter | orderBy: [\'-latest\',\'-oldest\'] track by $index"><h4 class="history-group-header clickable" ng-click="viewItem = (viewItem === item.title) ? \'\' : item.title" ng-bind="item.title + \' - (\' + mangaHistoryItems.length + \')\'"></h4><div ng-show="viewItem === item.title"><div ng-repeat="chapter in (mangaHistoryItems = (item.items | historySeparator:\'item\':ctrl.filterConfig.historyFilter | orderBy: [\'-date\',\'-value\'])) track by chapter.value"><time class=float-right title="{{chapter.date | date: \'dd MMMM HH:mm\'}}" ng-bind=ctrl.happenedWhen(chapter.date)></time><p><a href=/#!/mangaitems/{{chapter.id}} ng-bind=chapter.title></a> - Chapter {{chapter.value}}</p></div></div></div></div></div></section>'),t.put('/modules/history/views/item-history.html','<div class="col-lg-12 col-md-12 col-sm-12 primary-background"><div class=item-history-container><a class="close-button mt" data-ng-click=viewHistory.cancel()><i class="fa fa-times"></i></a><h4 class=popout-header ng-bind="::viewHistory.type === \'anime\' ? viewHistory.viewItem.title + \' Episode history\' : viewHistory.viewItem.title + \' Chapter history\'"></h4><div class="item-history-list view-height-50"><div ng-if="viewHistory.viewItem.meta.revisits.length > 0"><div class="item-history mt" ng-repeat="repeat in viewHistory.viewItem.meta.revisits | orderBy: \'-value\' track by repeat.value"><time title="{{repeat.start | date : \'dd-MM-yyyy HH:mm\'}}" ng-bind="repeat.start | date : \'dd-MM-yy\'"></time> <span ng-if=repeat.end>&nbsp;to&nbsp;</span> <time title="{{repeat.end | date : \'dd-MM-yyyy HH:mm\'}}" ng-bind="repeat.end | date : \'dd-MM-yy\'"></time> <span ng-bind="::viewHistory.type === \'anime\' ? \' - Re-watch \' : \' - Re-read \'"></span><span ng-bind="repeat.value | numberFixedLen: 2"></span></div></div><div ng-if="viewHistory.viewItem.meta.history.length === 0">No recorded history.</div><div class="item-history mt" ng-repeat="history in viewHistory.viewItem.meta.history | orderBy: \'-value\' track by history.value"><a class="bin-style clickable pull-right" aria-hidden=true ng-click="viewHistory.deleteHistory(viewHistory.viewItem, history)"><i class="fa fa-trash-o"></i> </a><time ng-bind="history.date | date : \'dd-MM-yyyy HH:mm\'"></time> <span ng-bind="::viewHistory.type === \'anime\' ? \' - Episode \' : \' - Chapter \'"></span><span ng-bind="history.value | numberFixedLen: 3"></span><uib-rating ng-model=history.rating read-only=true max=10 ng-if="::viewHistory.type === \'anime\'"></uib-rating></div></div><div class=padding-10><button class="btn btn-primary" ng-click=viewHistory.submit()>OK</button></div></div></div>'),t.put('/modules/mangaitems/templates/manga-item.html','<div class="list-group-item col-lg-12 col-md-12 col-sm-12" list-back={{ctrl.trustAsResourceUrl(mangaitem.image)}}><div class=view-item-top><img ng-if="::mangaitem.mal && mangaitem.mal.id > 0" class="absolute position-top position-right" src=https://myanimelist.net/favicon.ico> <small class=list-group-item-text><time ng-if="mangaitem.latest.substring(0,10)===mangaitem.meta.updated.substring(0,10)" title="{{mangaitem.meta.updated | date: \'yyyy-MMM-dd HH:mm\'}}" ng-bind="ctrl.latestDate(mangaitem.latest, mangaitem.meta.updated)"></time> <time ng-if="mangaitem.latest.substring(0,10)!==mangaitem.meta.updated.substring(0,10)" title="{{mangaitem.latest | date: \'yyyy-MMM-dd\'}}" ng-bind="ctrl.latestDate(mangaitem.latest, mangaitem.meta.updated)"></time></small><h4 class="list-group-item-heading clickable" ng-click="ctrl.filterConfig.viewItem===mangaitem ? ctrl.filterConfig.viewItem=\'\' : ctrl.filterConfig.viewItem=mangaitem" data-ng-bind=mangaitem.title></h4><p class=list-group-item-text><a class="clickable decoration-none" ng-if=!mangaitem.status ng-click=ctrl.tickOff(mangaitem)><i class="fa fa-plus-square"></i> </a><span data-ng-bind=mangaitem.chapters></span><span ng-bind="\'/\' + mangaitem.finalChapter" ng-if="mangaitem.finalChapter!==0"></span> Chapters, <span data-ng-bind=mangaitem.volumes></span><span ng-bind="\'/\' + mangaitem.finalVolume" ng-if="mangaitem.finalVolume!==0"></span> Volumes <span class="item-icons green-text" ng-if="mangaitem.status===true"><i class="fa fa-check"></i></span> <span class=item-icons ng-if="mangaitem.hardcopy===true"><i class="fa fa-book"></i></span> <span class=item-icons ng-if="mangaitem.reReading===true"><i class="fa fa-repeat"></i></span></p></div><div class=view-item-detail ng-if="ctrl.filterConfig.viewItem===mangaitem"><div class=item-detail><p><em class=text-muted data-ng-if="mangaitem.rating==0">No rating.</em><uib-rating data-ng-if="mangaitem.rating!=0" data-ng-model=mangaitem.rating class=list-item-rating-stars read-only=true max=ctrl.filterConfig.ratingActions.maxRating id=rating name=rating></uib-rating></p><p ng-if="mangaitem.reReadCount!=0">{{mangaitem.reReadCount}} re-reads.</p></div><div class=item-dates><small><span data-ng-bind="mangaitem.start | date:\'yyyy-MMM-dd\'"></span> started.<br><span ng-if="mangaitem.end!==undefined && mangaitem.end!==null">{{mangaitem.end | date:\'yyyy-MMM-dd\'}} ended.</span></small></div><a class=clickable ng-if="::mangaitem.mal && mangaitem.mal.id > 0" href=https://myanimelist.net/manga/{{mangaitem.mal.id}} target=_blank>View on MAL</a> <a class=clickable ng-click=ctrl.viewItemHistory()>View history</a><div class=item-actions data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == mangaitem.user._id))"><a class="btn btn-accent" href=/#!/mangaitems/{{mangaitem._id}}><i class="fa fa-eye"></i> </a><a class="btn btn-primary" href=/#!/mangaitems/{{mangaitem._id}}/edit><i class="glyphicon glyphicon-edit"></i></a></div></div></div>'),t.put('/modules/mangaitems/views/create-mangaitem.client.view.html','<section data-ng-controller="CreateMangaController as ctrl" data-ng-show=ctrl.authentication.user><div class=page-header><h1 ng-bind="ctrl.config.title + \' Manga\'"></h1></div><div class=col-md-12 loading-spinner name=editManga size=fullscreen><form name=mangaForm class=form-horizontal data-ng-submit=ctrl.submit() novalidate autocomplete=off><fieldset><div class=form-group ng-class="{ \'has-error\' : mangaForm.title.$invalid && !mangaForm.title.$pristine }"><label for=title class="col-md-2 control-label">Title</label><div class=col-md-6 data-mal-search=ctrl.config.malSearchType data-mal-search-model=ctrl.mangaitem.title data-mal-search-options=ctrl.malSearchOptions data-mal-search-select=ctrl.selectMalEntry></div><div class=col-md-4><p ng-show="mangaForm.title.$invalid && !mangaForm.title.$pristine" class=help-block>The Title is required.</p><span ng-show=mangaForm.title.$valid class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : mangaForm.chapters.$invalid && !mangaForm.chapters.$pristine }"><label for=chapters class="col-md-2 control-label">Chapters</label><div class=col-md-6><input type=number class=form-control data-ng-model=ctrl.mangaitem.chapters min=0 ng-change=ctrl.addedChapters() id=chapters name=chapters placeholder=0 required></div><div class=col-md-4><p ng-show="mangaForm.chapters.$invalid && !mangaForm.chapters.$pristine" class=help-block>Chapters is a whole number and is required.</p><span ng-show=mangaForm.chapters.$valid class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : mangaForm.volumes.$invalid && !mangaForm.volumes.$pristine }"><label for=volumes class="col-md-2 control-label">Volumes</label><div class=col-md-6><input type=number class=form-control data-ng-model=ctrl.mangaitem.volumes min=0 ng-change=ctrl.addedVolumes() id=volumes name=volumes placeholder=0 required></div><div class=col-md-4><p ng-show="mangaForm.volumes.$invalid && !mangaForm.volumes.$pristine" class=help-block>Volumes is a whole number and is required.</p><span ng-show=mangaForm.volumes.$valid class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : mangaForm.start.$invalid && !mangaForm.start.$pristine }" ng-if=::ctrl.config.isCreate><label for=start class="col-md-2 control-label">Start</label><div class=col-md-6><input type=date class=form-control data-ng-model=ctrl.mangaitem.start id=start name=start placeholder="" required></div><div class=col-md-4><p ng-show="mangaForm.start.$invalid && !mangaForm.start.$pristine" class=help-block>Start date is required.</p><span ng-show="mangaForm.start.$valid && !mangaForm.start.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : mangaForm.latest.$invalid }"><label for=latest class="col-md-2 control-label">Latest</label><div class=col-md-6><input type=date class=form-control ng-model=ctrl.mangaitem.latest id=latest name=latest format-date required></div><div class=col-md-4><p ng-show="mangaForm.latest.$invalid && !mangaForm.latest.$pristine" class=help-block>Latest date must be \'dd/mm/yyyy\' and is required.</p><span ng-show="mangaForm.latest.$valid && !mangaForm.latest.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-if=::!ctrl.config.isCreate><label for=status class="col-md-2 control-label">Completed?</label><div class=col-md-6><input type=checkbox class=form-control data-ng-model=ctrl.mangaitem.status data-ng-checked="ctrl.mangaitem.chapters===ctrl.mangaitem.finalChapter && ctrl.mangaitem.volumes===ctrl.mangaitem.finalVolume && ctrl.mangaitem.finalChapter!==0 || ctrl.mangaitem.end!==null && ctrl.mangaitem.reReading===true" data-ng-true-value=true id=status name=status disabled></div></div><p class="clickable accent-text" ng-init="showAdditionals = false" ng-click="showAdditionals=!showAdditionals"><i class=fa ng-class="showAdditionals ? \'fa-minus-square\' : \'fa-plus-square\'"></i> Additional properties</p><div ng-show=showAdditionals><div class=form-group ng-if=::!ctrl.config.isCreate><label for=rating class="col-md-2 control-label">Rating</label><div class=col-md-6><uib-rating class="form-control clickable rating-stars" data-ng-model=ctrl.mangaitem.rating readonly max=ctrl.config.ratingActions.maxRating on-hover=ctrl.hoveringOver(value) on-leave="ctrl.overStar = null" id=rating name=rating></uib-rating></div><span data-ng-show="ctrl.config.ratingActions.overStar!=null" class=label ng-class="{\'label-warning\': ctrl.config.ratingActions.percent<40, \'label-info\': ctrl.config.ratingActions.percent>=30 && ctrl.config.ratingActions.percent<70, \'label-success\': ctrl.config.ratingActions.percent>=70}" ng-bind="ctrl.config.ratingActions.percent + \'%\'"></span></div><div class=form-group><label for=image class="col-md-2 control-label">Image</label><div class=col-md-6><input type=file class=form-control file-model=ctrl.myFile accept="image/png, image/jpeg"></div><div class="col-md-4 form-group"><a class="btn btn-primary" data-ng-click=ctrl.uploadFile() data-ng-disabled="ctrl.myFile===\'\' || ctrl.myFile===null || ctrl.myFile===undefined">Upload File</a></div></div><div class=form-group ng-class="{ \'has-error\' : mangaForm.anime.$invalid && !mangaForm.anime.$pristine }"><label for=anime class="col-md-2 control-label">Anime</label><div class=col-md-6><select class=form-control data-ng-options="anime.title for anime in ctrl.animeitems | orderBy: \'title\' track by anime._id" data-ng-model=ctrl.mangaitem.anime id=anime name=anime><option value="">-- Link to an anime --</option></select></div><div class=col-md-4><p ng-show="mangaForm.anime.$invalid && !mangaForm.anime.$pristine" class=help-block>The anime is required.</p><span ng-show="mangaForm.anime.$valid && !mangaForm.anime.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group><label for=hardcopy class="col-md-2 control-label">Hardcopy?</label><div class=col-md-6><input type=checkbox class=form-control data-ng-model=ctrl.mangaitem.hardcopy id=hardcopy name=hardcopy></div></div></div><p class="clickable accent-text" ng-init="showOthers = false" ng-click="showOthers=!showOthers"><i class=fa ng-class="showOthers ? \'fa-minus-square\' : \'fa-plus-square\'"></i> Completion properties</p><div ng-show=showOthers><div class=form-group ng-if=::!ctrl.config.isCreate ng-class="{ \'has-error\' : mangaForm.end.$invalid }"><label for=end class="col-md-2 control-label">End</label><div class=col-md-6><input type=date class=form-control data-ng-model=ctrl.mangaitem.end id=end name=end format-date></div><div class=col-md-4><span ng-show="mangaForm.end.$valid && !mangaForm.end.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : mangaForm.finalChapter.$invalid && !mangaForm.finalChapter.$pristine }" ng-hide="ctrl.mangaitem.end!=null && ctrl.mangaitem.chapters===ctrl.mangaitem.finalChapter || ctrl.mangaitem.end!=null && ctrl.mangaitem.reReading===true "><label for=finalChapter class="col-md-2 control-label">Final chapter</label><div class=col-md-6><input type=number class=form-control data-ng-model=ctrl.mangaitem.finalChapter id=finalChapter name=finalChapter placeholder=0></div><div class=col-md-4><p ng-show="mangaForm.finalChapter.$invalid && !mangaForm.finalChapter.$pristine" class=help-block>Final Chapter is a whole number and is required.</p><span ng-show="mangaForm.finalChapter.$valid && !mangaForm.finalChapter.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-class="{ \'has-error\' : mangaForm.finalVolume.$invalid && !mangaForm.finalVolume.$pristine }" ng-hide="ctrl.mangaitem.end!=null && ctrl.mangaitem.volumes===ctrl.mangaitem.finalVolume || ctrl.mangaitem.end!=null && ctrl.mangaitem.reReading===true "><label for=finalVolume class="col-md-2 control-label">Final volume</label><div class=col-md-6><input type=number class=form-control data-ng-model=ctrl.mangaitem.finalVolume id=finalVolume name=finalVolume placeholder=0></div><div class=col-md-4><p ng-show="mangaForm.finalVolume.$invalid && !mangaForm.finalVolume.$pristine" class=help-block>Final Volume is a whole number and is required.</p><span ng-show="mangaForm.finalVolume.$valid && !mangaForm.finalVolume.$pristine" class="glyphicon glyphicon-ok" style="color: green"></span></div></div><div class=form-group ng-if=::!ctrl.config.isCreate data-ng-show="ctrl.mangaitem.status === true"><label for=reReading class="col-md-2 control-label">Re-reading?</label><div class=col-md-6><input type=checkbox class=form-control data-ng-model=ctrl.mangaitem.reReading data-ng-disabled=ctrl.mangaitem.reReading data-ng-change="ctrl.mangaitem.chapters=0; ctrl.mangaitem.volumes=0" id=reReading name=reReading></div></div></div><p class="clickable accent-text" ng-init="showItemTags = false" ng-click="showItemTags=!showItemTags"><i class=fa ng-class="showItemTags ? \'fa-minus-square\' : \'fa-plus-square\'"></i> Tag properties</p><div ng-show=showItemTags><div class=form-group ng-class="{ \'has-error\' : mangaForm.tags.$invalid && !mangaForm.tags.$pristine }"><label for=tags class="col-md-2 control-label">Tags</label><div class=col-md-6><input class=form-control data-ng-model=ctrl.newTag enter-tag=ctrl.addTag() id=tags name=tags placeholder=tags... uib-typeahead="stat.tag for stat in ctrl.config.statTags | filter: $viewValue"></div><div class="col-md-4 form-group"><a class="btn btn-primary" data-ng-click=ctrl.addTag() data-ng-disabled="ctrl.newTag===\'\' || ctrl.newTag===null || ctrl.newTag===undefined">Add Tag</a></div></div><div class="form-group mt"><ul class="tag-list col-md-12"><li class="tag-bubble col-md-2" ng-repeat="tag in ctrl.mangaitem.tags">{{tag.text}} <a class="bin-style clickable pull-right" aria-hidden=true ng-click=ctrl.removeTag(tag.text)><i class="fa fa-times"></i></a></li></ul></div><div class=form-group><ul class="tag-list col-md-12"><li class="tag-bubble col-md-2" ng-repeat="tag in ctrl.tagArray track by $index">{{tag.text}} <a class="bin-style clickable pull-right" aria-hidden=true ng-click=ctrl.dropTag(tag.text)><i class="fa fa-trash-o"></i></a></li></ul></div></div><div class="form-group padded-medium"><input type=submit value={{ctrl.config.title}} class="btn btn-default" ng-disabled=mangaForm.$invalid>&nbsp; - &nbsp;<a href=/#!/mangaitems>Back</a></div><div data-ng-show=ctrl.error class=text-danger><strong data-ng-bind=ctrl.error></strong></div></fieldset></form></div></section>'),t.put('/modules/mangaitems/views/list-mangaitems.client.view.html','<section data-ng-controller="MangaitemsController as ctrl" data-ng-init=ctrl.find() data-ng-show=ctrl.authentication.user keycuts><div class=fixed-header><h1><span>Manga list</span> <button class="btn btn-primary show-actions" ng-init="inTheWay = false" ng-click="inTheWay = !inTheWay">Toggle actions</button></h1></div><div class=container><div class="col-lg-4 col-md-4 col-sm-4 item-filter-container" ng-class="{ \'in-the-way\' : inTheWay }"><div list-filters filter-config=ctrl.filterConfig items=ctrl.mangaitems page=ctrl.whichController></div></div><div class="col-lg-3 col-md-5 col-sm-5 item-placeholder-container"></div><div class="col-lg-8 col-md-6 col-sm-6 item-list-container" loading-spinner name=manga size=fullscreen><div page-controls page-config=ctrl.pageConfig showing-count=ctrl.filterConfig.showingCount></div><div class="list-group col-lg-12 col-md-12 col-sm-12"><div manga-item-model data-ng-repeat="mangaitem in ctrl.mangaitems | orderBy: ctrl.filterConfig.sortType:ctrl.filterConfig.sortReverse | filter: ctrl.filterConfig.search | ratingFilter: ctrl.filterConfig.ratingLevel | tagFilter: ctrl.filterConfig.searchTags:ctrl.filterConfig.taglessItem | startFrom: ctrl.pageConfig.currentPage*ctrl.pageConfig.pageSize | limitTo: ctrl.pageConfig.pageSize track by mangaitem._id"></div></div></div></div></section>'),t.put('/modules/mangaitems/views/view-mangaitem.client.view.html','<section data-ng-controller="MangaitemsController as ctrl" data-ng-init=ctrl.findOne() data-ng-show=ctrl.authentication.user><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 page-header"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="col-lg-3 col-md-3 col-sm-6 col-xs-6 pull-left"><img ng-src={{ctrl.trustAsResourceUrl(ctrl.mangaitem.image)}} height=100% width=100%></div><div class="col-lg-9 col-md-9 col-sm-6 col-xs-6"><div class=pull-right data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == ctrl.mangaitem.user._id))"><a class="btn btn-accent" href=/#!/mangaitems><i class="glyphicon glyphicon-chevron-left"></i> </a><a class="btn btn-primary" href=/#!/mangaitems/{{ctrl.mangaitem._id}}/edit><i class="glyphicon glyphicon-edit"></i> </a><a class="btn btn-danger" data-ng-click=ctrl.remove();><i class="glyphicon glyphicon-trash"></i></a></div><h1 data-ng-bind=ctrl.mangaitem.title></h1><span class="glyphicon glyphicon-book" data-ng-show=ctrl.mangaitem.hardcopy></span> <span class=text-muted data-ng-show=ctrl.mangaitem.status>(Completed)</span> <span class=text-muted data-ng-show=ctrl.mangaitem.reReading>(Reading)</span><h3>Chapter</h3><span data-ng-bind=ctrl.mangaitem.chapters></span>/<span data-ng-bind=ctrl.mangaitem.finalChapter></span><h3>Volume</h3><span data-ng-bind=ctrl.mangaitem.volumes></span>/<span data-ng-bind=ctrl.mangaitem.finalVolume></span><div class="related-media accent-alter-text"><p data-ng-show="ctrl.mangaitem.anime!==null">Related anime: <a href=/#!/animeitems/{{ctrl.mangaitem.anime._id}}>{{ctrl.mangaitem.anime.title}}</a></p></div><div class="related-media accent-alter-text" ng-if="::ctrl.mangaitem.mal && ctrl.mangaitem.mal.id > 0"><a class=clickable href=https://myanimelist.net/manga/{{ctrl.mangaitem.mal.id}} target=_blank>View on MAL</a></div><div class="col-lg-9 col-md-9 col-sm-12 item-tags"><span class="col-lg-3 col-md-3 col-sm-3 tag-bubble" ng-repeat="tag in ctrl.mangaitem.tags">{{tag.text}}</span></div></div></div><div class=text-right><span class=accent-alter-text data-ng-show=ctrl.mangaitem.status>Re-read count: {{ ctrl.mangaitem.reReadCount }}</span></div><div class=text-right><em class=accent-alter-text data-ng-show="ctrl.mangaitem.rating==0">No rating</em><uib-rating data-ng-model=ctrl.mangaitem.rating class=view-item-rating-stars data-ng-show="ctrl.mangaitem.rating!==0" readonly max=ctrl.filterConfig.ratingActions.maxRating id=rating name=rating></uib-rating></div></div><small><em class=accent-alter-text>Start <span data-ng-bind="ctrl.mangaitem.start | date:\'yyyy-MMM-dd\'"></span><br>End <span data-ng-bind="ctrl.mangaitem.end | date:\'yyyy-MMM-dd\'"></span><br>Latest <span data-ng-bind="ctrl.mangaitem.latest | date:\'yyyy-MMM-dd\'"></span></em></small></section>'),t.put('/modules/orders/views/complete-order.client.view.html','<div class="primary-background padding-10 overflow-hidden" style="height: 70vh"><a class="close-button mt" ng-click=modal.cancel()><i class="fa fa-times"></i></a><div tab-container class="width-95 height-100"><div tab-view heading="order details" class="height-90 margin-5"><form name=completeOrderForm novalidate><div class="col-lg-12 col-md-12 col-sm-12"><label class=width-100>Select existing price</label><div class="form-group col-lg-12 col-md-12 col-sm-12"><label for=list class="col-lg-3 col-md-3 col-sm-3 control-label">Prices</label><div class="col-lg-6 col-md-6 col-sm-6 height-90 overflow-auto-hover"><div ng-repeat="item in modal.order.nextVolume.prices" ng-click=modal.editOrder($index) class="padding-5 cursor-pointer"><span>{{item.company}}</span> - <span>\xA3{{item.price}}</span></div></div></div><label class=width-100>Enter new price</label><div class="form-group col-lg-12 col-md-12 col-sm-12"><label for=company class="col-lg-3 col-md-3 col-sm-3 control-label">Company</label><div class="col-lg-6 col-md-6 col-sm-6"><input id=company class=form-control ng-model=modal.newPrice.company required></div></div><div class="form-group col-lg-12 col-md-12 col-sm-12"><label for=price class="col-lg-3 col-md-3 col-sm-3 control-label">Price</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=number id=price class=form-control ng-model=modal.newPrice.price min=0 step=0.01 required></div></div><div class="form-group col-lg-12 col-md-12 col-sm-12"><label for=date class="col-lg-3 col-md-3 col-sm-3 control-label">Date</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=date id=date class=form-control ng-model=modal.newPrice.date format-date required></div></div><div class="relative col-lg-12 col-md-12 col-sm-12"><button class="btn btn-primary absolute position-right width-50" ng-click=modal.completeOrder() ng-disabled=completeOrderForm.$invalid>Complete</button></div></div></form></div></div></div>'),t.put('/modules/orders/views/create-order.client.view.html','<section data-ng-controller="CreateOrdersController as ctrl"><div class=page-header><h1>{{ctrl.isCreateMode ? \'Create\' : \'Edit\'}} Order - {{ctrl.stepConfig.stepHeaders[ctrl.stepConfig.currentStep-1].text}}</h1></div><div class="col-lg-12 col-md-12 col-sm-12"><form class=form-horizontal name=orderForm novalidate><fieldset><div steps step-config=ctrl.stepConfig><div one-step><div class=form-group><label for=series class="col-lg-3 col-md-3 col-sm-3 control-label">Select series</label><div class="col-lg-6 col-md-6 col-sm-6"><input id=series class=form-control ng-model=ctrl.order.series uib-typeahead="item as item.title for item in ctrl.stepConfig.items | toptenFilter:\'title\':$viewValue | limitTo: 5" typeahead-on-select="ctrl.order.nextVolume.volume = ctrl.order.series.volumes + 1" ng-disabled=!ctrl.isCreateMode></div></div><div class=form-group><label for=nextVolume class="col-lg-3 col-md-3 col-sm-3 control-label">Next volume</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=number id=nextVolume class=form-control min=1 ng-model=ctrl.order.nextVolume.volume></div><div class="col-lg-3 col-md-3 col-sm-3"><button class="btn btn-primary" ng-click=ctrl.openBoughtDialog()>Bought</button></div></div><div class=form-group><label for=date class="col-lg-3 col-md-3 col-sm-3 control-label">Release date</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=date id=date class=form-control ng-model=ctrl.order.nextVolume.date format-date></div></div><div class=form-group><label for=rrp class="col-lg-3 col-md-3 col-sm-3 control-label">RRP</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=number id=rrp class=form-control ng-model=ctrl.order.rrp min=0 step=0.01></div></div></div><div one-step><div class=form-group><label for=company class="col-lg-3 col-md-3 col-sm-3 control-label">Company</label><div class="col-lg-6 col-md-6 col-sm-6"><input id=company class=form-control ng-model=ctrl.newPrice.company></div></div><div class=form-group><label for=price class="col-lg-3 col-md-3 col-sm-3 control-label">Price</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=number id=price class=form-control ng-model=ctrl.newPrice.price min=0 step=0.01></div><button class="btn btn-primary col-lg-2 col-md-2 col-sm-2" ng-click="ctrl.order.nextVolume.prices.push(ctrl.newPrice); ctrl.newPrice = null">Add price</button></div><div ng-hide=true><input type=checkbox ng-model=ctrl.newPrice.paid></div><div class="form-group height-75"><label for=list class="col-lg-3 col-md-3 col-sm-3 control-label">List</label><div class="col-lg-6 col-md-6 col-sm-6 height-100 overflow-auto-hover"><div ng-repeat="item in ctrl.order.nextVolume.prices"><span>{{item.company}}</span> - <span>\xA3{{item.price}}</span> <a class="bin-style clickable pull-right" aria-hidden=true ng-click="ctrl.order.nextVolume.prices.splice($index, 1)"><i class="fa fa-trash-o"></i></a></div></div></div></div></div><div step-controls><button class="btn btn-primary width-50" ng-click=ctrl.cancel() ng-show="ctrl.stepConfig.currentStep === 1">CANCEL</button> <button class="btn btn-primary width-50" ng-click="ctrl.takeStep(ctrl.stepConfig.currentStep, false)" ng-show="ctrl.stepConfig.currentStep !== 1">BACK</button> <button class="btn btn-primary width-50" ng-click="ctrl.takeStep(ctrl.stepConfig.currentStep, true)" ng-show="ctrl.stepConfig.currentStep !== ctrl.stepConfig.stepCount">NEXT</button> <button class="btn btn-primary width-50" ng-click="(ctrl.isCreateMode) ? ctrl.create() : ctrl.update()" ng-show="ctrl.stepConfig.currentStep === ctrl.stepConfig.stepCount" ng-disabled=orderForm.$invalid>SAVE</button></div><div data-ng-show=error class=text-danger><strong data-ng-bind=error></strong></div></fieldset></form></div></section>'),t.put('/modules/orders/views/list-orders.client.view.html','<section data-ng-controller="OrdersController as ctrl" data-ng-show=ctrl.authentication.user><div class="fixed-header width-95 secondary-background"><h1>Orders <button class="btn btn-primary show-actions" ng-init="inTheWay = false" ng-click="inTheWay = !inTheWay">Toggle actions</button></h1></div><div class="container relative" style="top: 40px"><div class="col-lg-4 col-md-4 col-sm-4 item-filter-container" ng-class="{ \'in-the-way\' : inTheWay }"><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input class=form-control placeholder="search orders" ng-model=search.series.title></div><div class="input-group mt"><div class=input-group-addon><i class="fa fa-list-ol"></i></div><input class=form-control value="Showing {{ (showingCount = (ctrl.orders | filter: search).length) }} orders." disabled></div></div><div class="col-lg-3 col-md-5 col-sm-5 item-placeholder-container"></div><div class="col-lg-8 col-md-6 col-sm-6 item-list-container" loading-spinner name=orders size=fullscreen><div page-controls page-config=ctrl.pageConfig showing-count=showingCount></div><div class="list-group col-lg-12 col-md-12 col-sm-12"><div data-ng-repeat="item in ctrl.orders | orderBy: \'nextVolume.date\' | filter: search | startFrom: ctrl.pageConfig.currentPage*ctrl.pageConfig.pageSize | limitTo: ctrl.pageConfig.pageSize" class="list-group-item col-lg-12 col-md-12 col-sm-12"><div class=view-item-top><h4 class="list-group-item-heading clickable" ng-click="(viewItem === item) ? viewItem=\'\' : viewItem=item" data-ng-bind=item.series.title></h4><p class=list-group-item-text>Next volume: <span ng-bind=item.nextVolume.volume></span><br>Release: <span ng-bind="item.nextVolume.date | date: \'dd-MMM-yyyy\'"></span><br></p></div><div class=view-item-detail ng-show="viewItem === item"><div class=item-actions data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == item.user._id))"><a class="btn btn-accent" href=/#!/orders/{{item._id}}><i class="fa fa-eye"></i> </a><a class="btn btn-primary" href=/#!/orders/{{item._id}}/edit><i class="glyphicon glyphicon-edit"></i></a></div></div></div></div></div></div></section>'),t.put('/modules/orders/views/order-history.client.view.html','<div class="primary-background padding-10 overflow-hidden" style="height: 55vh"><a class="close-button mt" ng-click=modal.cancel()><i class="fa fa-times"></i></a><div tab-container class="width-95 height-100"><div tab-view heading="order history" class="height-90 margin-5"><div class="list-group col-lg-12 col-md-12 col-sm-12 height-90 overflow-auto-hover"><div ng-repeat="item in modal.order.orderHistory | orderBy: \'-volume\'" class="padding-5 margin-bottom-5">Volume: <span ng-bind=item.volume></span><br>Bought on: <span ng-bind="item.purchaseDate | date: \'dd MMM yy\'"></span><br>Paid: <span ng-bind="\'\xA3\' + item.paid"></span><br>Cost: <span ng-bind="item.saving + \'%\'" hover-data="RRP: \xA3{{item.rrpInstance}}"></span></div></div></div></div></div>'),t.put('/modules/orders/views/view-order.client.view.html','<section data-ng-controller="OrdersController as ctrl"><div class="page-header margin-top-0"><div class=pull-right data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == ctrl.order.user._id))"><a class="btn btn-accent" href=/#!/orders><i class="glyphicon glyphicon-chevron-left"></i> </a><a class="btn btn-primary" href=/#!/orders/{{ctrl.order._id}}/edit><i class="glyphicon glyphicon-edit"></i> </a><a class="btn btn-danger" data-ng-click=ctrl.remove();><i class="glyphicon glyphicon-trash"></i></a></div><h1 data-ng-bind=ctrl.order.series.title></h1><p class=list-group-item-text>Next volume: <span ng-bind=ctrl.order.nextVolume.volume></span><br>Release: <span ng-bind="ctrl.order.nextVolume.date | date: \'dd-MMM-yyyy\'"></span><br></p><p class="btn btn-primary margin-0" ng-click=ctrl.openOrderHistoryDialog()>View order history</p></div></section>'),t.put('/modules/ratings/views/ratings.client.view.html','<section data-ng-controller="RatingsController as ctrl" data-ng-init=ctrl.find(ctrl.view) data-ng-show=ctrl.authentication.user keycuts><div class="fixed-header width-95 secondary-background"><div class="view-controls absolute position-right" style="min-width: 165px"><div tab-container ng-model=ctrl.view ng-change=ctrl.find(ctrl.view)><div tab-view heading=Anime></div><div tab-view heading=Manga></div></div></div><h1><span ng-bind="ctrl.view + \' ratings\'"></span> <button class="btn btn-primary show-actions" ng-init="inTheWay = false" ng-click="inTheWay = !inTheWay">Toggle actions</button></h1></div><div class="container relative" style="top: 40px"><div class="col-lg-4 col-md-4 col-sm-4 item-filter-container" ng-class="{ \'in-the-way\' : inTheWay }" ng-hide="ctrl.viewItem !== undefined"><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input class=form-control placeholder="search items" ng-model=ctrl.search ng-model-options=ctrl.modelOptions></div><div class="input-group mt"><div class=input-group-addon><i class="fa fa-list-ol"></i></div><input class=form-control value="Showing {{ (showingCount = (ctrl.items | filter: ctrl.search | ratingFilter: ctrl.ratingLevel).length) }} {{ctrl.view.toLowerCase()}}." disabled></div><div class="input-group mt"><div class="input-group-addon clickable" data-ng-click="ctrl.ratingLevel=undefined"><i class="fa fa-star"></i></div><uib-rating class="form-control rating-stars clickable" data-ng-model=ctrl.ratingLevel read-only=false max=ctrl.maxRating on-hover=ctrl.hoveringOver(value) on-leave="ctrl.overStar = null" id=rating name=rating></uib-rating><div class=input-group-addon><span class="label rating-label" ng-class="{\'label-warning\': ctrl.percent<40, \'label-info\': ctrl.percent>=30 && ctrl.percent<70, \'label-success\': ctrl.percent>=70}" ng-bind="ctrl.percent + \'%\'" data-ng-show="ctrl.overStar!=null"></span></div></div></div><div class="col-lg-3 col-md-5 col-sm-5 item-placeholder-container"></div><div class="col-lg-8 col-md-6 col-sm-6 item-list-container" loading-spinner name=rating size=fullscreen><div page-controls page-config=ctrl.pageConfig showing-count=showingCount></div><table class=ratings-table><thead><th><a href="" ng-click="ctrl.sortType = \'status\'; ctrl.sortReverse = !ctrl.sortReverse ">S </a><i ng-show="ctrl.sortType == \'status\'" class=fa ng-class="ctrl.sortReverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th><th class=left><a href="" ng-click="ctrl.sortType = \'title\'; ctrl.sortReverse = !ctrl.sortReverse ">Title </a><i ng-show="ctrl.sortType == \'title\'" class=fa ng-class="ctrl.sortReverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th><!-- Make ~80% width of table. --><th><a href="" ng-click="ctrl.sortType = \'rating\'; ctrl.sortReverse = !ctrl.sortReverse ">R </a><i ng-show="ctrl.sortType == \'rating\'" class=fa ng-class="ctrl.sortReverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th></thead><tbody><tr ng-repeat="item in ctrl.items | filter: { title: ctrl.search }:ctrl.isEqual | ratingFilter: ctrl.ratingLevel | orderBy: ctrl.sortType:ctrl.sortReverse | startFrom: ctrl.pageConfig.currentPage*ctrl.pageConfig.pageSize | limitTo: ctrl.pageConfig.pageSize"><td><i class=fa ng-class="item.status ? \' fa-check green-text\' : \' fa-minus\'"></i></td><td class=left><span class=clickable ng-click="(ctrl.view === \'Anime\') ? ctrl.viewEpisodeRatings(item) : ctrl.go(item._id)" ng-bind=item.title></span></td><td ng-init="newRating = item.rating"><input type=number class="small-input phantom-control" min=0 max={{::ctrl.maxRating}} ng-model=newRating ng-blur="ctrl.itemScore(item, newRating)" enter-tag="ctrl.itemScore(item, newRating)"></td></tr></tbody></table></div></div><section class="padding-10 margin-top-25" ng-show="ctrl.viewItem !== undefined && ctrl.search === ctrl.viewItem.title"><header><h4><a href=/#!/{{ctrl.view.toLowerCase()}}items/{{ctrl.viewItem._id}} class=clickable ng-bind=ctrl.viewItem.title></a> <span ng-bind="ctrl.viewItem.rating === 0 ? \'\' : \'- \' + ctrl.viewItem.rating"></span></h4></header><div class=row-container><div class="vertical-scroll overflow-auto-hover"><table class=inner-vertical-scroll><thead><tr><th style="width: 100px">Episode</th><th style="width: 100px">Ratings</th></tr></thead><tbody><tr ng-repeat="episode in ctrl.viewItem.meta.history | orderBy: \'-value\'"><td class=text-center><span ng-bind=episode.value></span></td><td><input type=number class="phantom-control width-100 text-center" min=0 max={{::ctrl.maxRating}} ng-model=episode.rating ng-blur=ctrl.episodeScore(true) enter-tag=ctrl.episodeScore(true)></td></tr></tbody></table></div><div class="absolute position-right width-30" loading-spinner name=summary><table class="col-lg-6 col-md-6 col-sm-6 margin-10" id=anime-episode-ratings><tbody><tr ng-repeat="item in ctrl.summaryFunctions"><th ng-bind=item.metric></th><td ng-bind=item.value></td></tr></tbody></table></div></div></section></section>'),t.put('/modules/statistics/templates/percentage-bar.html','<div class="float-left display-inline-block height-100 {{type}}" ng-style="{ \'width\': percentage + \'%\', \'background-color\': colour }"><span class="display-block width-100 no-wrap overflow-hidden">{{display}}</span></div>'),t.put('/modules/statistics/templates/tab-container.html','<div class="tab-container overflow-hidden" role=tabcontainer detect-flood><div class=tab-controls-container><ul class=tab-controls role=tablist><li class=tab-control-option role=taboptions ng-repeat="tab in tabContainer.tabs" ng-class="{\'active\': tab.active, \'disabled\': tab.disabled }"><a href="" role=tab ng-click=tabContainer.select(tab)>{{tab.heading}}</a></li></ul></div><a class="tab-control slide-left" ng-click="tabContainer.shiftTabs(\'origin\')" ng-style="{display: (tabContainer.listShift === 0) ? \'none\' : \'\'}"><i class="fa fa-chevron-left"></i> </a><a class="tab-control slide-right" ng-click="tabContainer.shiftTabs(\'offset\')" ng-style="{display: (tabContainer.listShift <= (elWidth - ulWidth)) ? \'none\' : \'\'}"><i class="fa fa-chevron-right"></i></a><ng-transclude></ng-transclude></div>'),t.put('/modules/statistics/views/statistics.client.view.html','<section data-ng-controller="StatisticsController as ctrl" data-ng-init=ctrl.find(ctrl.view) data-ng-show=ctrl.authentication.user keycuts><header class="fixed-header width-100 secondary-background padding-10" style="top: 50px; left: 0"><div class="view-controls absolute position-right" style="min-width: 368px"><div tab-container ng-model=ctrl.view ng-change=ctrl.find(ctrl.view)><div tab-view heading=Anime></div><div tab-view heading=Manga></div><div tab-view heading=Character></div><div tab-view heading=Topten></div></div></div><h1>{{ctrl.view}} statistics</h1></header><section class="col-lg-12 col-md-12 col-sm-12 relative" style="top: 100px" ng-hide="ctrl.view !== \'Anime\' && ctrl.view !== \'Manga\'" loading-spinner name=items size=fullscreen><aside class="col-lg-12 col-md-12 col-sm-12 stat-overview"><span class=accent-text>{{ctrl.overview.ongoing}} in progress</span> - <span class=green-text>{{ctrl.overview.completed}} completed</span></aside><div tab-container class=width-100><div tab-view heading=history><div class="col-lg-12 col-md-12 col-sm-12 stat-history-panel"><div class=stat-header><div class=stat-header-label-container><h3>History</h3><div tab-container ng-model=ctrl.detail.history ng-change=ctrl.getFilteredItems(true) style="width: 250px"><div tab-view heading=months></div><div tab-view heading=seasons disabled></div></div><div class="margin-auto padding-left-15" ng-show="ctrl.detail.history === \'seasons\'"><input type=checkbox class=phantom-control ng-model=ctrl.detail.isEpisodeRatings ng-change=ctrl.getFilteredItems()> <span class="display-inline-block font-18 padding-left-5">use episode ratings</span></div></div></div><div class="col-lg-12 col-md-12 col-sm-12 stat-history"><table class="col-lg-12 col-md-12 col-sm-12"><thead><tr><th></th><th class=text-center ng-class="(ctrl.detail.history === \'months\') ? \'stat-month-header\' : \'stat-season-header\'" ng-repeat="header in ctrl.commonArrays[ctrl.detail.history]">{{ctrl.detail.history === \'months\' ? header.text.substring(0,3) : header.text }}</th></tr></thead><tbody><tr ng-repeat="year in ctrl.historyDetails[ctrl.detail.history][ctrl.detail.history] | orderBy: \'-year\'"><th class=cursor-pointer ng-click="ctrl.historyDetail(year.year, \'\', \'\', ctrl.detail.history)"><span>{{year.year}}</span></th><td ng-repeat="part in year[ctrl.detail.history]" ng-click="ctrl.historyDetail(year.year, part[ctrl.detail.history===\'months\' ? \'number\' : \'text\'], part.text)" hover-data="{{part.count}} {{ctrl.detail.history === \'months\' ? \'completed\' : \'watched\' }} {{part.text}} {{year.year}}."><span class=stat-month-box ng-style="{\'opacity\': part.count / ctrl.historyDetails[ctrl.detail.history].max }"></span></td></tr></tbody></table></div><!-- HISTORY PANEL END --><div class="col-lg-12 col-md-12 col-sm-12 stat-month-detail" ng-show=ctrl.detail.isVisible loading-spinner name=detail><div class="col-lg-12 col-md-12 col-sm-12 margin-top-10" ng-show="(ctrl.detail.summary.isVisible && detailItems.length > 1)"><table class="col-lg-12 col-md-12 col-sm-12"><thead><th>{{ctrl.detail.year}}</th><th class=text-right ng-repeat="item in ctrl.commonArrays[ctrl.detail.summary.type]" ng-class="(ctrl.detail.summary.type === \'seasons\') ? item.text + \'-background white-text padding-right-10\' : \'\'">{{ ctrl.detail.summary.type === \'months\' ? item.text.substring(0,3) : item.text }}</th></thead><tbody><tr ng-repeat="item in ctrl.historyDetails.yearSummary"><th>{{item.metric}}</th><td class=text-right ng-repeat="value in item.values">{{value.value}}</td></tr></tbody></table></div><div class="stat-detail padding-bottom-15" ng-class="(ctrl.detail.isEpisodeRatings) ? \'col-lg-12 col-md-12 col-sm-12\' : \'col-lg-8 col-md-8 col-sm-8\'"><div class=stat-detail-header><h3>{{detailItems.length}} {{ctrl.detail.history === \'months\' ? \'Completed\' : \'Watched\' }} {{ctrl.detail.divisionText}} {{ctrl.detail.year}}</h3></div><table class="col-lg-12 col-md-12 col-sm-12 stat-detail-list"><thead><th><a href="" ng-click="ctrl.filterConfig.sort.episodeRating.type = \'title\'; ctrl.filterConfig.sort.episodeRating.reverse = !ctrl.filterConfig.sort.episodeRating.reverse ">Title </a><i ng-show="ctrl.filterConfig.sort.episodeRating.type == \'title\'" class=fa ng-class="ctrl.filterConfig.sort.episodeRating.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th><th><a href="" ng-click="ctrl.filterConfig.sort.episodeRating.type = \'rating\'; ctrl.filterConfig.sort.episodeRating.reverse = !ctrl.filterConfig.sort.episodeRating.reverse ">Rating </a><i ng-show="ctrl.filterConfig.sort.episodeRating.type == \'rating\'" class=fa ng-class="ctrl.filterConfig.sort.episodeRating.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th><th ng-repeat="metric in ctrl.commonArrays.summaryFunctions" ng-if=ctrl.detail.isEpisodeRatings><a href="" ng-click="ctrl.filterConfig.sort.episodeRating.type = \'meta.episodeSummaryFunctions[{{$index}}].value\'; ctrl.filterConfig.sort.episodeRating.reverse = !ctrl.filterConfig.sort.episodeRating.reverse ">{{metric.name}} </a><i ng-show="ctrl.filterConfig.sort.episodeRating.type === \'meta.episodeSummaryFunctions[{{$index}}].value\'" class=fa ng-class="ctrl.filterConfig.sort.episodeRating.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></th></thead><tbody><tr ng-repeat="item in (detailItems = (ctrl.items | statisticsDetailFilter: ctrl.detail.history:ctrl.detail.year:ctrl.detail.division | orderBy: ctrl.filterConfig.sort.episodeRating.type:ctrl.filterConfig.sort.episodeRating.reverse))" ng-class="(ctrl.detail.summary.type === \'seasons\') ? item.season.season + \'-background white-text\' : \'\'"><td class="no-wrap overflow-hidden" ng-class="(ctrl.detail.isEpisodeRatings) ? \'\' : \'width-75\'"><a href=/#!/{{ctrl.view.toLowerCase()}}items/{{item._id}} ng-bind=item.title></a></td><td><span ng-bind=item.rating></span></td><td ng-repeat="episode in item.meta.episodeSummaryFunctions" ng-if=ctrl.detail.isEpisodeRatings><span ng-bind=episode.value></span></td></tr></tbody></table></div><div class="col-lg-4 col-md-4 col-sm-4 margin-top-55 margin-bottom-20" ng-show="detailItems.length > 0 && ctrl.detail.isEpisodeRatings === false"><table class="col-lg-12 col-md-12 col-sm-12"><tbody><tr ng-repeat="item in ctrl.historyDetails.summaryFunctions"><th>{{item.metric}}</th><td>{{item.value}}</td></tr></tbody></table></div></div><!-- HISTORY DETAIL PANEL END --></div></div><div tab-view heading=ratings><div class="col-lg-12 col-md-12 col-sm-12 stat-rating-panel"><div class=stat-header><h3>Ratings</h3><span class="stat-summary-info pull-right"><small class=accent-text>&nbsp;{{ctrl.ratingValues.averageRating | number: 2}} average rating.</small></span></div><div class="col-lg-12 col-md-12 col-sm-12"><table class="col-lg-12 col-md-12 col-sm-12 stat-rating-table"><tbody><tr ng-repeat="rating in ctrl.ratingsDistribution"><th class="col-lg-1 col-md-1 col-sm-1 text-right mb"><span>{{rating.number}}</span></th><td class="col-lg-11 col-md-11 col-sm-11 col-xs-11 stat-rating-box"><div percentage-bar-container><div percentage-bar percentage={{::rating.percentage}} display={{::rating.percentage}}% colour={{::rating.colour}} type=white-text hover-data={{::rating.text}}></div></div></td></tr></tbody></table></div></div><!-- RATING PANEL END --></div><div tab-view heading=tags><div class="col-lg-12 col-md-12 col-sm-12 stat-tag-panel"><div class=stat-header><h3>Tags</h3><span class="stat-summary-info pull-right"><small class=accent-text>&nbsp;{{ctrl.statTags.length}} unique tags.</small></span></div><div class="col-lg-12 col-md-12 col-sm-12"><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input ng-model=ctrl.filterConfig.search.tag placeholder="search tags" class=form-control></div><table class="col-lg-12 col-md-12 col-sm-12 stat-tag-table table table-bordered"><thead><tr><td class=text-right>#</td><td><a href="" ng-click="ctrl.filterConfig.sort.tag.type = \'tag\'; ctrl.filterConfig.sort.tag.reverse = !ctrl.filterConfig.sort.tag.reverse ">Tag </a><i ng-show="ctrl.filterConfig.sort.tag.type == \'tag\'" class=fa ng-class="ctrl.filterConfig.sort.tag.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td><td class=text-right><a href="" ng-click="ctrl.filterConfig.sort.tag.type = \'count\'; ctrl.filterConfig.sort.tag.reverse = !ctrl.filterConfig.sort.tag.reverse ">Count </a><i ng-show="ctrl.filterConfig.sort.tag.type == \'count\'" class=fa ng-class="ctrl.filterConfig.sort.tag.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td><td class=text-right><a href="" ng-click="ctrl.filterConfig.sort.tag.type = \'ratingAvg\'; ctrl.filterConfig.sort.tag.reverse = !ctrl.filterConfig.sort.tag.reverse ">Rating (Avg.) </a><i ng-show="ctrl.filterConfig.sort.tag.type == \'ratingAvg\'" class=fa ng-class="ctrl.filterConfig.sort.tag.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td><td class=text-right><a href="" ng-click="ctrl.filterConfig.sort.tag.type = \'ratingWeighted\'; ctrl.filterConfig.sort.tag.reverse = !ctrl.filterConfig.sort.tag.reverse ">Rating (WAvg.) </a><i ng-show="ctrl.filterConfig.sort.tag.type == \'ratingWeighted\'" class=fa ng-class="ctrl.filterConfig.sort.tag.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td></tr></thead><tbody><tr ng-repeat="stat in ctrl.statTags | orderBy: ctrl.filterConfig.sort.tag.type:ctrl.filterConfig.sort.tag.reverse | filter: { tag: ctrl.filterConfig.search.tag }"><td class=text-right>{{$index+1}}</td><td>{{stat.tag}}</td><td class=text-right>{{stat.count}}</td><td class=text-right>{{stat.ratingAvg | number: 2}}</td><td class=text-right>{{stat.ratingWeighted | number: 2}}</td></tr></tbody></table></div></div></div></div></section><section class="col-lg-12 col-md-12 col-sm-12 relative stat-view" style="top: 100px" ng-show="ctrl.view === \'Character\'" loading-spinner name=character size=fullscreen><aside class="col-lg-12 col-md-12 col-sm-12 stat-gender-panel primary-background"><div class=stat-gender-progress-container><div percentage-bar-container><div ng-repeat="sex in ctrl.gender" percentage-bar percentage={{sex.percentage}} display="{{sex.percentage | number: 2}}{{::sex.text}}" colour={{sex.colour}} type=white-text hover-data="{{sex.percentage | number: 2}}{{::sex.text}}"></div></div></div></aside><div tab-container class=width-100><div tab-view heading=tags><div class="col-lg-12 col-md-12 col-sm-12 stat-tag-panel"><div class="col-lg-6 col-md-6 col-sm-6 stat-tag-main"><div class=stat-header><h3>Tags</h3><span class="stat-summary-info pull-right"><small class=accent-text>&nbsp;{{ctrl.statTags.length}} unique tags.</small></span></div><div class="col-lg-12 col-md-12 col-sm-12"><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input ng-model=ctrl.filterConfig.search.tag placeholder="search tags" class=form-control ng-disabled=ctrl.tableDetails.isEqual></div><table class="col-lg-12 col-md-12 col-sm-12 stat-tag-table table table-bordered"><thead><tr><td class=text-right>#</td><td><a href="" ng-click="ctrl.filterConfig.sort.tag.type = \'tag\'; ctrl.filterConfig.sort.tag.reverse = !ctrl.filterConfig.sort.tag.reverse ">Tag </a><i ng-show="ctrl.filterConfig.sort.tag.type == \'tag\'" class=fa ng-class="ctrl.filterConfig.sort.tag.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td><td class=text-right><a href="" ng-click="ctrl.filterConfig.sort.tag.type = \'count\'; ctrl.filterConfig.sort.tag.reverse = !ctrl.filterConfig.sort.tag.reverse ">Count </a><i ng-show="ctrl.filterConfig.sort.tag.type == \'count\'" class=fa ng-class="ctrl.filterConfig.sort.tag.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td></tr></thead><tbody><tr class="stat-table-row clickable" ng-repeat="stat in ctrl.statTags | orderBy: ctrl.filterConfig.sort.tag.type:ctrl.filterConfig.sort.tag.reverse | filter: {tag: ctrl.filterConfig.search.tag }:ctrl.tableDetails.isEqual" ng-click="ctrl.tableDetail(\'tag\', stat.tag);"><td class=text-right>{{$index+1}}</td><td>{{stat.tag}}</td><td class=text-right>{{stat.count}}</td></tr></tbody></table></div></div><div class="col-lg-6 col-md-6 col-sm-6 stat-tag-detail" ng-show=ctrl.filterConfig.show.tag><div class="col-lg-12 col-md-12 col-sm-12"><div class=stat-header><h3>Tags appearing with {{ctrl.tableDetails.tag}}</h3></div><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input ng-model=ctrl.filterConfig.search.tagDetail placeholder="search related tags" class=form-control></div><table class="col-lg-12 col-md-12 col-sm-12 stat-tag-detail-table table table-bordered"><thead><tr><td class=text-right>#</td><td><a href="" ng-click="ctrl.filterConfig.sort.tag.detail.type = \'name\'; ctrl.filterConfig.sort.tag.detail.reverse = !ctrl.filterConfig.sort.tag.detail.reverse ">Tag </a><i ng-show="ctrl.filterConfig.sort.tag.detail.type == \'name\'" class=fa ng-class="ctrl.filterConfig.sort.tag.detail.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td><td class=text-right><a href="" ng-click="ctrl.filterConfig.sort.tag.detail.type = \'count\'; ctrl.filterConfig.sort.tag.detail.reverse = !ctrl.filterConfig.sort.tag.detail.reverse ">Count </a><i ng-show="ctrl.filterConfig.sort.tag.detail.type == \'count\'" class=fa ng-class="ctrl.filterConfig.sort.tag.detail.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td></tr></thead><tbody><tr ng-repeat="stat in ctrl.tagDetailResult | orderBy: ctrl.filterConfig.sort.tag.detail.type:ctrl.filterConfig.sort.tag.detail.reverse | filter: {name: ctrl.filterConfig.search.tagDetail }"><td class=text-right>{{$index+1}}</td><td>{{stat.name}}</td><td class=text-right>{{stat.count}}</td></tr></tbody></table></div></div></div></div><div tab-view heading=series><div class="col-lg-12 col-md-12 col-sm-12 stat-media-panel"><div class="col-lg-6 col-md-6 col-sm-6 stat-media-main"><div class=stat-header><h3>Series</h3><span class="stat-summary-info pull-right"><small class=accent-text>&nbsp;{{ctrl.statSeries.length}} unique series.</small></span></div><div class="col-lg-12 col-md-12 col-sm-12"><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input ng-model=ctrl.filterConfig.search.series placeholder="search series" class=form-control></div><table class="col-lg-12 col-md-12 col-sm-12 stat-media-table table table-bordered"><thead><tr><td class=text-right>#</td><td><a href="" ng-click="ctrl.filterConfig.sort.series.type = \'name\'; ctrl.filterConfig.sort.series.reverse = !ctrl.filterConfig.sort.series.reverse ">Series </a><i ng-show="ctrl.filterConfig.sort.series.type == \'name\'" class=fa ng-class="ctrl.filterConfig.sort.series.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td><td class=text-right><a href="" ng-click="ctrl.filterConfig.sort.series.type = \'count\'; ctrl.filterConfig.sort.series.reverse = !ctrl.filterConfig.sort.series.reverse ">Count </a><i ng-show="ctrl.filterConfig.sort.series.type == \'count\'" class=fa ng-class="ctrl.filterConfig.sort.series.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td></tr></thead><tbody><tr class="stat-table-row clickable" ng-repeat="stat in ctrl.statSeries | orderBy: ctrl.filterConfig.sort.series.type:ctrl.filterConfig.sort.series.reverse | filter: {name: ctrl.filterConfig.search.series }" ng-click="ctrl.tableDetail(\'series\', stat.name);"><td class=text-right>{{$index+1}}</td><td>{{stat.name}}</td><td class=text-right>{{stat.count}}</td></tr></tbody></table></div></div><!-- SERIES PANEL END --><div class="col-lg-6 col-md-6 col-sm-6 stat-media-detail" ng-show=ctrl.filterConfig.show.series><div class="col-lg-12 col-md-12 col-sm-12 stat-detail"><div class=stat-detail-header><h3>Characters in {{ctrl.tableDetails.series}}</h3></div><ul class="col-lg-12 col-md-12 col-sm-12 statMediaDetailList"><li ng-repeat="item in ctrl.items | orderBy: \'name\' | seriesDetailFilter: ctrl.tableDetails.series"><a href=/#!/characters/{{item._id}}><span>{{item.name}}</span></a></li></ul></div></div></div><!-- MEDIA CONTAINER END --></div><div tab-view heading=voice><div class="col-lg-12 col-md-12 col-sm-12 stat-voice-panel"><div class="col-lg-6 col-md-6 col-sm-6 stat-voice-main"><div class=stat-header><h3>Voice Actors</h3><span class="stat-summary-info pull-right"><small class=accent-text>&nbsp;{{ctrl.voiceActors.length}} voices.</small></span></div><div class="col-lg-12 col-md-12 col-sm-12"><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input ng-model=ctrl.filterConfig.search.voice placeholder="search voices" class=form-control></div><table class="col-lg-12 col-md-12 col-sm-12 stat-voice-table table table-bordered"><thead><tr><td class=text-right>#</td><td><a href="" ng-click="ctrl.filterConfig.sort.voice.type = \'name\'; ctrl.filterConfig.sort.voice.reverse = !ctrl.filterConfig.sort.voice.reverse ">Voice </a><i ng-show="ctrl.filterConfig.sort.voice.type == \'name\'" class=fa ng-class="ctrl.filterConfig.sort.voice.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td><td class=text-right><a href="" ng-click="ctrl.filterConfig.sort.voice.type = \'count\'; ctrl.filterConfig.sort.voice.reverse = !ctrl.filterConfig.sort.voice.reverse ">Count </a><i ng-show="ctrl.filterConfig.sort.voice.type == \'count\'" class=fa ng-class="ctrl.filterConfig.sort.voice.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td></tr></thead><tbody><tr class="stat-table-row clickable" ng-repeat="stat in ctrl.voiceActors | orderBy: ctrl.filterConfig.sort.voice.type:ctrl.filterConfig.sort.voice.reverse | filter: {name: ctrl.filterConfig.search.voice }" ng-click="ctrl.tableDetail(\'voice\', stat.name);"><td class=text-right>{{$index+1}}</td><td>{{stat.name}}</td><td class=text-right>{{stat.count}}</td></tr></tbody></table></div></div><div class="col-lg-6 col-md-6 col-sm-6 stat-voice-detail" ng-show=ctrl.filterConfig.show.voice><div class="col-lg-12 col-md-12 col-sm-12 stat-detail"><div class=stat-detail-header><h3>Characters voiced by {{ctrl.tableDetails.voice}}</h3></div><ul class="col-lg-12 col-md-12 col-sm-12 stat-voice-detail-list"><li ng-repeat="item in ctrl.items | orderBy: \'name\' | filter: {voice: ctrl.tableDetails.voice}"><a href=/#!/characters/{{item._id}}><span>{{item.name}}</span></a></li></ul></div></div><!-- SERIES DETAIL PANEL END --></div><!-- VOICE CONTAINER END --></div></div></section><section class="col-lg-12 col-md-12 col-sm-12 relative stat-view" style="top: 100px" ng-show="ctrl.view === \'Topten\'" loading-spinner name=topten size=fullscreen><aside class="col-lg-12 col-md-12 col-sm-12 primary-background"><div class="text-center font-18 bold"><span ng-style="{ color: ctrl.colours.red }" ng-bind="ctrl.dataStore.toptens.anime.totalListCount + \' anime \'"></span>- <span ng-style="{ color: ctrl.colours.green }" ng-bind="ctrl.dataStore.toptens.manga.totalListCount + \' manga \'"></span>- <span ng-style="{ color: ctrl.colours.blue }" ng-bind="ctrl.dataStore.toptens.character.totalListCount + \' character \'"></span></div></aside><div tab-container ng-model=ctrl.toptens.type ng-change="ctrl.getToptenItemStatistics(ctrl.view, ctrl.toptens.type)" class=width-100><div tab-view heading=anime></div><div tab-view heading=manga></div><div tab-view heading=character></div></div><article class=margin-top-10><div class="col-lg-6 col-md-6 col-sm-12 margin-top-10"><header class=stat-header><h3>Items in lists</h3><span class="stat-summary-info float-right"><small class=accent-text ng-bind="ctrl.toptens[ctrl.toptens.type].listCount + \' source lists.\'"></small></span></header><div class="row-container text-right padding-5"><div class=margin-left-15><input type=checkbox class=phantom-control ng-model=ctrl.filterConfig.topten.isRanked ng-change="ctrl.getToptenItemStatistics(ctrl.view, ctrl.toptens.type)"> <span class="display-inline-block font-18 padding-left-5">is ranked</span></div><div class=margin-left-15><input type=checkbox class=phantom-control ng-model=ctrl.filterConfig.topten.isFavourite ng-change="ctrl.getToptenItemStatistics(ctrl.view, ctrl.toptens.type)"> <span class="display-inline-block font-18 padding-left-5">is favourite</span></div></div><div class=input-group><div class=input-group-addon><i class="fa fa-search"></i></div><input ng-model=ctrl.filterConfig.search.topten placeholder="search items in lists" class=form-control></div><table class="col-lg-12 col-md-12 col-sm-12 stat-tag-table table table-bordered"><thead><tr><td class=text-right>#</td><td><a href="" ng-click="ctrl.filterConfig.sort.topten.type = \'value\'; ctrl.filterConfig.sort.topten.reverse = !ctrl.filterConfig.sort.topten.reverse " ng-bind="(toptens.type === \'character\') ? \'Name\' : \'Title\'"></a> <i ng-show="ctrl.filterConfig.sort.topten.type == \'value\'" class=fa ng-class="ctrl.filterConfig.sort.topten.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td><td class=text-right><a href="" ng-click="ctrl.filterConfig.sort.topten.type = \'count\'; ctrl.filterConfig.sort.topten.reverse = !ctrl.filterConfig.sort.topten.reverse ">Count </a><i ng-show="ctrl.filterConfig.sort.topten.type == \'count\'" class=fa ng-class="ctrl.filterConfig.sort.topten.reverse ? \'fa-caret-up\' : \'fa-caret-down\' "></i></td></tr></thead><tbody><tr class="stat-table-row clickable" ng-repeat="item in ctrl.toptens.detail.items | orderBy: ctrl.filterConfig.sort.topten.type:ctrl.filterConfig.sort.topten.reverse | filter: { value: ctrl.filterConfig.search.topten }"><td class=text-right>{{$index+1}}</td><td>{{item.value}}</td><td class=text-right>{{item.count}}</td></tr></tbody></table><div ng-if="ctrl.toptens.detail.items.length === 0"><p>There are no items that match your criteria.</p></div></div></article></section></section>'),t.put('/modules/tasks/templates/schedule-calendar.html','<div class=schedule-calendar><div class=header><i class="fa fa-angle-left" ng-click=previous()></i> <span>{{month.format("MMMM, YYYY")}}</span> <i class="fa fa-angle-right" ng-click=next()></i></div><div class="week names"><span class=day ng-repeat="day in days">{{day.text}}</span></div><div class=week ng-repeat="week in weeks"><span class=day ng-class="{ today: day.isToday, \'different-month\': !day.isCurrentMonth, selected: day.date.isSame(selected) }" ng-click=select(day) ng-repeat="day in week.days">{{day.number}}</span></div></div>'),t.put('/modules/tasks/templates/task-item.html','<li class=taskItem><input type=checkbox class=taskCheckbox ng-model=taskItem.complete ng-change=ctrl.tickOff(taskItem) ng-disabled="taskItem.complete || taskItem.checklist"> <span class="task-description-text complete-{{taskItem.complete}} display-inline-block" ng-class="taskItem.checklist === true ? \'clickable\' : \'\'" ng-click="taskItem.checklist === true ? viewTask = !viewTask : \'\'">{{taskItem.description}} </span><span class=separator>- </span><span class="task-times-text complete-{{taskItem.complete}} hover-data-right" hover-data="{{ (taskItem.link.type===\'manga\') ? \'Ch \' + taskItem.link.manga.chapters + \', Vol \' +  taskItem.link.manga.volumes : \'\' }}"><span ng-if="taskItem.link.type!==\'anime\'">{{taskItem.completeTimes}}/{{taskItem.repeat}} </span><span ng-if="taskItem.link.type===\'anime\'">{{taskItem.link.anime.episodes}}/{{taskItem.link.anime.finalEpisode}} </span></span><span class="category-{{taskItem.category}} hover-data-left" hover-data="{{taskItem.link.linked ? (taskItem.link.type ===  \'anime\') ?\r\n                                                taskItem.link.anime.title        :\r\n                                                taskItem.link.manga.title        :\r\n                                                \'\'\r\n                      }}">{{taskItem.category}} </span><a class="bin-style clickable" aria-hidden=true ng-click=ctrl.removeTask(taskItem)><i class="fa fa-trash-o"></i> </a><strong class="taskDate complete-{{taskItem.complete}}"><span hover-data="{{taskItem.date | date: \'dd MMM yyyy\' }}" pass-click=date-input-{{taskItem.meta.uniqueDescription}}><input type=date uib-datepicker-popup="" ng-model=taskItem.date is-open=opened datepicker-append-to-body=true datepicker-options=ctrl.dateOptions show-button-bar=false ng-click="opened=!opened" ng-change=ctrl.updateTask(taskItem) format-date id=date-input-{{taskItem.meta.uniqueDescription}} class=phantom-control> <i class="fa fa-calendar"></i> </span><span ng-hide=taskItem.daily><span ng-if=taskItem.complete>{{taskItem.day}}</span><select ng-if=!taskItem.complete class="phantom-control transform-uppercase" style="width: 75px" ng-model=taskItem.day ng-options="obj.name as obj.name for obj in ctrl.commonArrays.days" ng-change=ctrl.updateTask(taskItem)></select></span><span ng-show=taskItem.daily>DAILY</span></strong><div class=margin-top-10 percentage-bar-container border=alter-border ng-if=taskItem.checklist><div percentage-bar percentage="{{ ((taskItem.checklistItems | filter: {complete: true}).length / taskItem.checklistItems.length) * 100}}" type="white-text accent-alter-background" hover-data="{{ ((taskItem.checklistItems | filter: {complete: true}).length / taskItem.checklistItems.length)*100 | number: 2 }}%"></div></div><div ng-if=taskItem.checklist class=checklist-list-container ng-show=viewTask><input ng-show="!taskItem.complete && addingToChecklist" class=form-control ng-model=insertNewChecklistItem enter-tag="ctrl.insertChecklistItem(taskItem, insertNewChecklistItem); insertNewChecklistItem = \'\'"> <a ng-show=!taskItem.complete class="btn btn-accent" ng-click="addingToChecklist=!addingToChecklist"><i ng-hide=addingToChecklist class="fa fa-plus"></i> <i ng-show=addingToChecklist class="fa fa-minus"></i> </a><a ng-show="!taskItem.complete && addingToChecklist" class="btn btn-accent" ng-click="ctrl.insertChecklistItem(taskItem, insertNewChecklistItem); insertNewChecklistItem = \'\'" ng-disabled="insertNewChecklistItem===\'\' || insertNewChecklistItem===null || insertNewChecklistItem===undefined">Add</a><ul class=checklist-list><li class=checklist-item ng-repeat="option in taskItem.checklistItems"><input type=checkbox class=taskCheckbox ng-model=option.complete ng-change="ctrl.tickOffChecklist(taskItem, $index)" ng-disabled=option.complete> <span class=complete-{{option.complete}}>{{option.text}}</span></li></ul></div></li>'),t.put('/modules/tasks/views/create-task.client.view.html','<div class="col-lg-12 col-md-12 col-sm-12 primary-background"><a class="close-button mt" data-ng-click=taskCreate.cancel()><i class="fa fa-times"></i></a><h4 class=popout-header>Add new task</h4><div class="col-lg-12 col-md-12 col-sm-12 relative" style="height: 80%"><form name=scheduleForm reset-form=taskCreate.newTask class=form-horizontal novalidate autocomplete=off><fieldset><div steps step-config=taskCreate.stepConfig><div one-step><div class=form-group><label for=description class="col-lg-3 col-md-3 col-sm-3 control-label">Description</label><div class="col-lg-8 col-md-8 col-sm-8"><input required id=description class=form-control placeholder="What do you need to do?" ng-model=taskCreate.newTask.description></div></div><div class=form-group><label for=link class="col-lg-3 col-md-3 col-sm-3 control-label">Linked?</label><div class="col-lg-8 col-md-8 col-sm-8"><input type=checkbox id=link class=form-control ng-model=taskCreate.newTask.link.linked></div></div><div class=form-group><label for=day class="col-lg-3 col-md-3 col-sm-3 control-label">Day</label><!--<i class="fa fa-caret-down selectArrow"></i>--><div class="col-lg-8 col-md-8 col-sm-8"><select required id=day class=form-control ng-model=taskCreate.newTask.day ng-options="obj.name as obj.name for obj in taskCreate.commonArrays.days"><option class=disabled value="">Choose a day</option></select></div></div><div class=form-group><label for=date class="col-lg-3 col-md-3 col-sm-3 control-label">Date</label><!--<i class="fa fa-caret-down selectArrow"></i>--><div class="col-lg-8 col-md-8 col-sm-8"><input type=date id=date class=form-control ng-model=taskCreate.newTask.date></div></div><div class=form-group><label for=category class="col-lg-3 col-md-3 col-sm-3 control-label">Category</label><!--<i class="fa fa-caret-down selectArrow"></i>--><div class="col-lg-8 col-md-8 col-sm-8"><select id=category class=form-control ng-model=taskCreate.newTask.category ng-options="obj.name as obj.name for obj in taskCreate.commonArrays.categories"><option class=disabled value="">Choose a category</option></select></div></div></div><div one-step><div ng-show=taskCreate.newTask.link.linked><div class=form-group><label for=link.id class="col-lg-3 col-md-3 col-sm-3 control-label">Link to</label><div class="col-lg-8 col-md-8 col-sm-8"><select id=link-id class=form-control ng-model=taskCreate.newTask.link[taskCreate.linkType] ng-options="obj as obj.title for obj in taskCreate.linkItems | orderBy: \'title\'"><option class=disabled value="">Choose link item</option></select></div></div></div><div class=form-group ng-hide="taskCreate.newTask.daily || taskCreate.newTask.category === \'Watch\'"><label for=checklist class="col-lg-3 col-md-3 col-sm-3 control-label">Checklist?</label><div class="col-lg-8 col-md-8 col-sm-8"><input type=checkbox id=checklist class=form-control ng-model=taskCreate.newTask.checklist ng-change="taskCreate.newTask.repeat = (taskCreate.newTask.checklist === true) ? 1 : 0; taskCreate.newTask.daily = (taskCreate.newTask.checklist === true) ? false : taskCreate.newTask.daily"></div></div><div ng-hide=taskCreate.newTask.link.linked><div class=form-group ng-hide=taskCreate.newTask.checklist><label for=daily class="col-lg-3 col-md-3 col-sm-3 control-label">Daily?</label><div class="col-lg-8 col-md-8 col-sm-8"><input type=checkbox id=daily class=form-control ng-model=taskCreate.newTask.daily ng-change="taskCreate.newTask.checklist = (taskCreate.newTask.daily === true) ? false : taskCreate.newTask.checklist"></div></div><div class=form-group ng-hide=taskCreate.newTask.checklist><label for=repeat class="col-lg-3 col-md-3 col-sm-3 control-label">Repeat</label><div class="col-lg-8 col-md-8 col-sm-8"><input type=number required id=repeat min=0 class=form-control placeholder=1 ng-model=taskCreate.newTask.repeat></div></div></div><div class=form-group ng-show=taskCreate.newTask.checklist><label for=checklistOptions class="col-lg-3 col-md-3 col-sm-3 control-label">Options</label><div class="col-lg-7 col-md-7 col-sm-7"><input id=checklistOptions class=form-control ng-model=taskCreate.newTask.checklistItem enter-tag=taskCreate.addChecklistItem()></div><div class="col-lg-2 col-md-2 col-sm-2 form-group"><a class="btn btn-primary" data-ng-click=taskCreate.addChecklistItem() ng-disabled="taskCreate.newTask.checklistItem===\'\' || taskCreate.newTask.checklistItem===null || taskCreate.newTask.checklistItem===undefined">Add</a></div></div><div class=form-group ng-show=taskCreate.newTask.checklist><div class="col-lg-3 col-md-3 col-sm-3"></div><div class="options-list-container col-lg-8 col-md-8 col-sm-8"><ul class=options-list><li class="col-lg-12 col-md-12 col-sm-12" ng-repeat="option in taskCreate.newTask.checklistItems"><a class="bin-style clickable pull-right" aria-hidden=true ng-click=taskCreate.dropChecklistItem(option.text)><i class="fa fa-trash-o"></i></a><p>{{option.text}}</p></li></ul></div></div></div></div><div step-controls style="bottom: 10px"><button class="btn btn-primary width-50" ng-click=taskCreate.cancel() ng-show="taskCreate.stepConfig.currentStep === 1">CANCEL</button> <button class="btn btn-primary width-50" ng-click=taskCreate.backStep(taskCreate.stepConfig.currentStep) ng-show="taskCreate.stepConfig.currentStep === 2">BACK</button> <button class="btn btn-primary width-50" ng-click=taskCreate.takeStep(taskCreate.stepConfig.currentStep) ng-show="taskCreate.stepConfig.currentStep === 1">NEXT</button> <button class="btn btn-primary width-50" ng-click=taskCreate.submit() ng-show="taskCreate.stepConfig.currentStep === 2" ng-disabled=scheduleForm.$invalid>CREATE</button></div></fieldset></form><!-- </form> --></div><!-- collapse FORM --></div>'),t.put('/modules/tasks/views/list-tasks.client.view.html','<section data-ng-controller="TasksController as ctrl"><div class=fixed-header><h3><span class=hover-data-right hover-data="Refresh data" ng-click=ctrl.refreshItems()><span class=clickable><i class="fa fa-refresh animate-spin-hover font-20"></i> </span></span>Week Beginning <span ng-bind="ctrl.weekBeginning() | dateSuffix"></span> <button class="btn btn-primary show-actions" ng-init="inTheWay = false" ng-click="inTheWay = !inTheWay">Toggle actions</button></h3></div><div class="col-lg-4 col-md-4 col-sm-4 item-filter-container" ng-class="{ \'in-the-way\' : inTheWay }" ng-show="(ctrl.filterConfig.view === \'list\')"><a class="menu-header-bar clickable margin-bottom-10" ng-click=ctrl.createTask()><i class="fa fa-plus-square"></i> Add task</a><div list-filters filter-config=ctrl.filterConfig items=ctrl.tasks page=ctrl.whichController></div></div><div class="col-lg-3 col-md-5 col-sm-5 item-placeholder-container"></div><div class=item-list-container loading-spinner name=tasks size=fullscreen ng-class="(ctrl.filterConfig.view === \'list\') ? \'col-lg-8 col-md-6 col-sm-6\' : \'col-lg-12 col-md-12 col-sm-12\'"><div tab-container ng-model=ctrl.filterConfig.view><div tab-view heading=list><div class="tab-filter-container width-100 margin-top-40" id=task-tab-filter-container sticky><div id=task-tab-filter-inner-container><div class="relative tab-filter clickable" ng-class="(ctrl.filterConfig.search.day === \'\') ? \'tab-in\' : \'tab-out\' "><label class="width-100 clickable text-center" ng-click="ctrl.tabFilter(\'\')">ALL</label></div><div class="relative tab-filter clickable" ng-class="(ctrl.filterConfig.search.day === day.name) ? \'tab-in\' : \'tab-out\' " ng-repeat="day in ctrl.commonArrays.days"><label class="width-100 clickable text-center" ng-click=ctrl.tabFilter(day.name) ng-bind=::day.name></label></div></div></div><ul class="taskList col-lg-12 col-md-12 col-sm-12"><div ng-if="ctrl.filterConfig.showingCount === 0" class="relative width-100 margin-top-20 text-center"><p class="relative width-100">No items were found using your selection criteria.</p></div><li task-item-model ng-repeat="taskItem in ctrl.tasks | orderBy: \'-date\' | filter: ctrl.filterConfig.search | calendarFilter:ctrl.filterConfig.datesSelected"></li></ul></div><div tab-view heading=calendar><div class=margin-top-15 schedule-calendar events=ctrl.tasks></div></div></div></div></section>'),t.put('/modules/tasks/views/schedule-calendar-task.client.view.html','<div class="col-lg-12 col-md-12 col-sm-12 primary-background" style="height: 75vh"><a class="close-button mt" data-ng-click=ctrl.cancel()><i class="fa fa-times"></i></a><h4 class=popout-header>{{::ctrl.date | date: \'EEEE\'}} {{::ctrl.date | dateSuffix }}</h4><div class="col-lg-12 col-md-12 col-sm-12 relative" style="height: 80%"><ul class="taskList width-100 height-100 overflow-auto-hover"><div ng-if="ctrl.events.length === 0" class="relative width-100 margin-top-20 text-center"><p class="relative width-100">No items were found using your selection criteria.</p></div><li task-item-model ng-repeat="taskItem in ctrl.events"></li></ul></div></div>'),t.put('/modules/tasks/views/update-anime-task.client.view.html','<div class="col-lg-12 col-md-12 col-sm-12 primary-background"><a class="close-button mt" data-ng-click=ctrl.cancel()><i class="fa fa-times"></i></a><h4 class=popout-header>Update linked anime</h4><div class="col-lg-12 col-md-12 col-sm-12 relative" style="height: 80%"><form name=animeForm class=form-horizontal novalidate autocomplete=off><fieldset><div steps step-config=ctrl.stepConfig><div one-step><div class=form-group><label for=episodeRating class="col-lg-3 col-md-3 col-sm-3 control-label">Episode #{{ctrl.episodeNumber}}</label><div class="col-lg-4 col-md-4 col-sm-4"><input type=number id=episodeRating class=form-control ng-model=ctrl.episodeRating ng-min=0 ng-max={{ctrl.ratingLimit}}></div></div><div class=form-group ng-if=::ctrl.isComplete><label for=rating class="col-lg-3 col-md-3 col-sm-3 control-label">Overall Rating</label><div class="col-lg-4 col-md-4 col-sm-4"><input type=number id=rating class=form-control ng-model=ctrl.item.link.anime.rating ng-min=0 ng-max={{ctrl.ratingLimit}} ng-init="ctrl.item.link.anime.rating = 0"></div></div></div></div><div step-controls style="bottom: 10px"><button class="btn btn-primary width-50" ng-click=ctrl.cancel() ng-show="ctrl.stepConfig.currentStep === 1">CANCEL</button> <button class="btn btn-primary width-50" ng-click=ctrl.submit() ng-show="ctrl.stepConfig.currentStep === ctrl.stepConfig.stepCount" ng-disabled=animeForm.$invalid>UPDATE</button></div></fieldset></form><!-- </form> --></div><!-- collapse FORM --></div>'),t.put('/modules/tasks/views/update-manga-task.client.view.html','<div class="col-lg-12 col-md-12 col-sm-12 primary-background"><a class="close-button mt" data-ng-click=ctrl.cancel()><i class="fa fa-times"></i></a><h4 class=popout-header>Update linked manga</h4><div class="col-lg-12 col-md-12 col-sm-12 relative" style="height: 80%"><form name=mangaForm class=form-horizontal novalidate autocomplete=off><fieldset><div steps step-config=ctrl.stepConfig><div one-step><div class=form-group><label for=chapters class="col-lg-3 col-md-3 col-sm-3 control-label">Chapters</label><div class="col-lg-4 col-md-4 col-sm-4"><input type=number id=chapter class=form-control ng-model=ctrl.item.link.manga.chapters ng-min=0 ng-max="{{ctrl.item.link.manga.finalChapter > 0 ? ctrl.item.link.manga.finalChapter : null }}"></div><div class="col-lg-4 col-md-4 col-sm-4"><input id=finalChapter class=form-control ng-model=ctrl.item.link.manga.finalChapter disabled></div></div><div class=form-group><label for=volumes class="col-lg-3 col-md-3 col-sm-3 control-label">Volumes</label><div class="col-lg-4 col-md-4 col-sm-4"><input type=number id=volume class=form-control ng-model=ctrl.item.link.manga.volumes ng-min=0 ng-max="{{ctrl.item.link.manga.finalVolume > 0 ? ctrl.item.link.manga.finalVolume : null }}"></div><div class="col-lg-4 col-md-4 col-sm-4"><input id=finalVolume class=form-control ng-model=ctrl.item.link.manga.finalVolume disabled></div></div></div></div><div step-controls style="bottom: 10px"><button class="btn btn-primary width-50" ng-click=ctrl.cancel() ng-show="ctrl.stepConfig.currentStep === 1">CANCEL</button><!-- <button class="btn btn-primary width-50"\r\n                            ng-click="backStep(stepConfig.currentStep)" ng-show="stepConfig.currentStep !== 1">BACK</button>\r\n                    <button class="btn btn-primary width-50"\r\n                            ng-click="takeStep(stepConfig.currentStep)" ng-show="stepConfig.currentStep !== stepConfig.stepCount">NEXT</button> --> <button class="btn btn-primary width-50" ng-click=ctrl.submit() ng-show="ctrl.stepConfig.currentStep === ctrl.stepConfig.stepCount" ng-disabled=mangaForm.$invalid>UPDATE</button></div></fieldset></form><!-- </form> --></div><!-- collapse FORM --></div>'),t.put('/modules/toptens/templates/horizontal-list-item.html','<div class=horizontal-list-item ng-style="{ \'width\': itemWidth }" ng-class="(isVisible) ? \'in-display\' : \'out-display\'" ng-transclude></div>'),t.put('/modules/toptens/templates/horizontal-list.html','<div class=horizontal-list><div class=horizontal-list-scroller ng-style="{left: horizontalList.clicks * horizontalList.shift + \'px\' }" ng-transclude></div><a class="horizontal-list-control left" ng-click="horizontalList.moveItems(\'left\')"><i class="fa fa-chevron-left"></i></a> <a class="horizontal-list-control right" ng-click="horizontalList.moveItems(\'right\')"><i class="fa fa-chevron-right"></i></a></div>'),t.put('/modules/toptens/templates/step.html','<div class=step id=step-{{stepNumber}} ng-class="(active) ? \'step-in step-transition\' : \'step-out step-transition\'" ng-style="{\'z-index\' : (active) ? 2 : 1}"><div class=step-inner-container ng-transclude></div></div>'),t.put('/modules/toptens/views/create-topten.client.view.html','<section data-ng-controller="CreateToptenController as ctrl"><div class=page-header><h1>List creation - {{ctrl.stepConfig.stepHeaders[ctrl.stepConfig.currentStep - 1].text}} <a class="float-right hover-data-bottom" hover-data=cancel href=/#!/toptens><i class="fa fa-close"></i></a></h1></div><div class="col-lg-12 col-md-12 col-sm-12"><form class=form-horizontal name=toptenForm novalidate autocomplete=off><fieldset><div steps step-config=ctrl.stepConfig><div one-step><div class=form-group><label for=name class="col-lg-3 col-md-3 col-sm-3 control-label">Name</label><div class="col-lg-6 col-md-6 col-sm-6"><input id=name class=form-control ng-model=ctrl.topten.name></div></div><div class=form-group><label for=description class="col-lg-3 col-md-3 col-sm-3 control-label">Description</label><div class="col-lg-6 col-md-6 col-sm-6"><input id=description class=form-control ng-model=ctrl.topten.description></div></div><div class=form-group ng-if=ctrl.isCreate><label for=type class="col-lg-3 col-md-3 col-sm-3 control-label">Type</label><div class="col-lg-6 col-md-6 col-sm-6"><select class=form-control ng-model=ctrl.topten.type ng-options="option.name as option.name for option in ctrl.commonArrays.itemTypes"></select></div></div><div class=form-group><label for=isFavourite class="col-lg-3 col-md-3 col-sm-3 control-label">Is favourite?</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=checkbox id=isFavourite class="phantom-control font-20" ng-model=ctrl.topten.isFavourite></div></div><div class=form-group><label for=isRanked class="col-lg-3 col-md-3 col-sm-3 control-label">Is ranked?</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=checkbox id=isRanked class="phantom-control font-20" ng-model=ctrl.topten.isRanked></div></div></div><div one-step><div class=form-group><label for=limit class="col-lg-3 col-md-3 col-sm-3 control-label">Limit</label><div class="col-lg-6 col-md-6 col-sm-6"><input type=number id=limit class=form-control ng-min={{ctrl.stepConfig.limitMin}} ng-model=ctrl.topten.conditions.limit></div></div><div tab-container class="width-100 height-90"><div tab-view heading=series disabled class=height-75><div class=form-group><label for=series class="col-lg-3 col-md-3 col-sm-3 control-label">Restrict by series</label><div class="col-lg-6 col-md-6 col-sm-6"><input id=series class=form-control ng-model=ctrl.stepConfig.listGen.seriesLimit uib-typeahead="item as item.name for item in ctrl.stepConfig.listGen.series | filter: { name: $viewValue } | limitTo: 5" typeahead-on-select="ctrl.pushCondition(\'series\', ctrl.stepConfig.listGen.seriesLimit)"></div></div><div class=height-75><label for=series-list class="col-lg-3 col-md-3 col-sm-3 control-label">Series</label><div class="col-lg-6 col-md-6 col-sm-6 height-95 overflow-auto-hover"><div ng-repeat="item in ctrl.topten.conditions.series track by item._id"><span>{{item.name}}</span> <a class="bin-style clickable pull-right" aria-hidden=true ng-click="ctrl.removeCondition(\'series\', item)"><i class="fa fa-trash-o"></i></a></div></div></div></div><div tab-view heading=tag class=height-75><div class=form-group><label for=tag class="col-lg-3 col-md-3 col-sm-3 control-label">Restrict by tag</label><div class="col-lg-6 col-md-6 col-sm-6"><input id=tag class=form-control ng-model=ctrl.stepConfig.listGen.tagLimit uib-typeahead="item as item.tag for item in ctrl.stepConfig.listGen.tags | filter: { tag: $viewValue } | limitTo: 5" typeahead-on-select="ctrl.pushCondition(\'tag\', ctrl.stepConfig.listGen.tagLimit)"></div></div><div class=height-75><label for=tag-list class="col-lg-3 col-md-3 col-sm-3 control-label">Tags</label><div class="col-lg-6 col-md-6 col-sm-6 height-95 overflow-auto-hover"><div ng-repeat="item in ctrl.topten.conditions.tags track by item.tag"><span>{{item.tag}}</span> <a class="bin-style clickable pull-right" aria-hidden=true ng-click="ctrl.removeCondition(\'tag\', item)"><i class="fa fa-trash-o"></i></a></div></div></div></div><div tab-view heading=date disabled class=height-75><div class="form-group margin-top-25"><label for=season class="col-lg-2 col-md-2 col-sm-2 control-label">Restrict by release</label><div class="col-lg-6 col-md-6 col-sm-6"><select class=form-control ng-options="option.text as option.text for option in ctrl.commonArrays.seasons" ng-model=ctrl.topten.conditions.season id=season name=season><option value="">No Season</option></select></div><div class="col-lg-4 col-md-4 col-sm-4"><select class=form-control ng-options="option.year as option.year for option in ctrl.years" ng-model=ctrl.topten.conditions.year id=year name=year><option value="">No Year</option></select></div><div class="col-lg-12 col-md-12 col-sm-12" ng-if="ctrl.topten.type === \'character\'"><p class="padding-10 margin-10">* Character choice will be restricted to characters whose linked anime aired during the applied filter.</p></div></div></div></div></div><div one-step><div class=form-group><label for=list-item class="col-lg-3 col-md-3 col-sm-3 control-label">Select {{ctrl.topten.type}}</label><div class="col-lg-6 col-md-6 col-sm-6"><input id=list class=form-control ng-model=ctrl.stepConfig.listGen.toptenItem uib-typeahead="item as item[ctrl.stepConfig.listGen.typeDisplay] for item in ctrl.stepConfig.listGen.items | toptenFilter:ctrl.stepConfig.listGen.typeDisplay:$viewValue | limitTo: 10" typeahead-on-select=ctrl.pushItem(ctrl.stepConfig.listGen.toptenItem)></div></div><div class=height-90><div class="col-lg-3 col-md-3 col-sm-3 height-90"><label for=list class=control-label>List</label><div class="height-90 overflow-auto-hover"><p ng-if="ctrl.topten.conditions.limit !== null" class=bold>Limit: <span>{{ctrl.topten.conditions.limit}}</span></p><p ng-if="ctrl.topten.conditions.series.length > 0" class=bold>Series:</p><p ng-repeat="item in ctrl.topten.conditions.series">{{item.name}}</p><p></p><p ng-if="ctrl.topten.conditions.tags.length > 0" class=bold>Tags:</p><p ng-repeat="item in ctrl.topten.conditions.tags">{{item.tag}}</p><p></p><p ng-if=ctrl.topten.conditions.season class=bold>Season:</p><p ng-bind=ctrl.topten.conditions.season></p><p></p><p ng-if=ctrl.topten.conditions.year class=bold>Year:</p><p ng-bind=ctrl.topten.conditions.year></p><p></p></div></div><div class="col-lg-6 col-md-6 col-sm-6 height-90 overflow-auto-hover"><div ng-repeat="item in ctrl.stepConfig.listGen.displayList track by item._id" class="relative width-100" ng-click=ctrl.swappingItems($index) ng-class="{ selected: $index === ctrl.stepConfig.swapping.one }"><i class="fa fa-trophy trophy-{{$index + 1}}" ng-if=ctrl.topten.isRanked></i><div class=display-inline-block ng-style="{ \'height\' : ctrl.imgSize.height, \'width\' : ctrl.imgSize.width }"><img ng-src={{item.image}} style="height: 100%"></div><span>{{item[ctrl.stepConfig.listGen.typeDisplay]}}</span> <a class="absolute position-right bin-style clickable" aria-hidden=true ng-click=ctrl.removeItem(item)><i class="fa fa-trash-o"></i></a></div></div></div></div></div><div step-controls><button class="btn btn-primary width-50" ng-click=ctrl.cancel() ng-show="ctrl.stepConfig.currentStep === 1">CANCEL</button> <button class="btn btn-primary width-50" ng-click="ctrl.takeStep(ctrl.stepConfig.currentStep, false)" ng-show="ctrl.stepConfig.currentStep !== 1">BACK</button> <button class="btn btn-primary width-50" ng-click="ctrl.takeStep(ctrl.stepConfig.currentStep, true)" ng-show="ctrl.stepConfig.currentStep !== ctrl.stepConfig.stepCount">NEXT</button> <button class="btn btn-primary width-50" ng-click="(ctrl.isCreate) ? ctrl.create() : ctrl.update()" ng-show="ctrl.stepConfig.currentStep === ctrl.stepConfig.stepCount" ng-disabled=toptenForm.$invalid>SAVE</button></div></fieldset></form></div></section>'),t.put('/modules/toptens/views/list-toptens.client.view.html','<section data-ng-controller="ToptensController as ctrl" data-ng-init=ctrl.find() data-ng-show=ctrl.authentication.user><div class=fixed-header><h1>Topten lists <button class="btn btn-primary show-actions" ng-init="inTheWay = false" ng-click="inTheWay = !inTheWay">Toggle actions</button></h1></div><div class=container><div class="col-lg-4 col-md-4 col-sm-4 item-filter-container" ng-class="{ \'in-the-way\' : inTheWay }"><div list-filters filter-config=ctrl.filterConfig items=ctrl.toptens page=ctrl.whichController></div></div><div class="col-lg-3 col-md-5 col-sm-5 item-placeholder-container"></div><div class="col-lg-8 col-md-6 col-sm-6 item-list-container" loading-spinner name=topten size=fullscreen><div page-controls page-config=ctrl.pageConfig showing-count=ctrl.filterConfig.showingCount></div><div class="list-group col-lg-12 col-md-12 col-sm-12"><div data-ng-repeat="item in ctrl.toptens | orderBy: ctrl.filterConfig.sortType:ctrl.filterConfig.sortReverse | filter: ctrl.filterConfig.search | startFrom: ctrl.pageConfig.currentPage*ctrl.pageConfig.pageSize | limitTo: ctrl.pageConfig.pageSize" class="list-group-item col-lg-12 col-md-12 col-sm-12"><div class=view-item-top><h4 class="list-group-item-heading clickable display-inline-block" ng-click="(viewItem === item) ? viewItem=\'\' : viewItem=item" data-ng-bind=item.name></h4><span class=item-icons ng-if=::item.isRanked><i class="fa fa-trophy trophy-5"></i></span><p class=list-group-item-text><span class=item-icons ng-if=::item.isFavourite><i class="fa fa-star" style="color: gold"></i></span> <span ng-bind=item.description></span></p></div><div class=view-item-detail ng-show="viewItem === item"><div class=item-actions data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == item.user._id))"><a class="btn btn-accent" href=/#!/toptens/{{item._id}}><i class="fa fa-eye"></i> </a><a class="btn btn-primary" href=/#!/toptens/{{item._id}}/edit><i class="glyphicon glyphicon-edit"></i></a></div></div></div></div></div></div></section>'),t.put('/modules/toptens/views/statistics-topten.client.view.html','<div class="primary-background padding-10 overflow-hidden" style="height: 90vh"><a class="close-button mt" ng-click=ctrl.cancel()><i class="fa fa-times"></i></a><div tab-container class="width-95 height-100"><div tab-view heading=conditions class="height-90 margin-5"><div class=margin-top-5 ng-if="::ctrl.list.conditions.limit > 0"><label>Limit:</label>&nbsp;<span>{{ctrl.list.conditions.limit}}</span><br></div><div class="height-35 margin-top-5 overflow-auto-hover" ng-if="::ctrl.list.conditions.tags.length > 0"><div class="absolute width-50 primary-background"><label>Tags</label><small class="text-muted margin-left-10">must include all</small></div><div class=margin-top-20 ng-repeat="tag in ctrl.list.conditions.tags">{{tag.tag}}</div><br></div><div class="height-35 margin-top-5 overflow-auto-hover" ng-if="::ctrl.list.conditions.series.length > 0"><div class="absolute width-50 primary-background"><label>Series</label><small class="text-muted margin-left-10">must include at least one</small></div><div class=margin-top-20 ng-repeat="series in ctrl.list.conditions.series">{{series.name}}</div></div><div class=margin-top-5 ng-if=::ctrl.list.conditions.season><label>Season:</label>&nbsp;<span>{{ctrl.list.conditions.season}}</span><br></div><div class=margin-top-5 ng-if=::ctrl.list.conditions.year><label>Year:</label>&nbsp;<span>{{ctrl.list.conditions.year}}</span><br></div><div class=margin-top-5 ng-if="!ctrl.list.conditions.limit && ctrl.list.conditions.tags.length === 0 && ctrl.list.conditions.series.length === 0 && !ctrl.list.conditions.season && !ctrl.list.conditions.year"><p class="padding-10 margin-10">This list has no conditions.</p></div></div><div tab-view heading=statistics class="height-90 margin-5"><div class="height-40 margin-top-5 overflow-auto-hover" ng-if="ctrl.toptenInfo.tags.length > 0"><label class="absolute width-50 primary-background">Tags</label><table class="width-40 margin-top-20"><tbody><tr ng-repeat="tag in ctrl.toptenInfo.tags | orderBy: \'-count\'"><td>{{tag.tag}}</td><td>{{tag.count}}</td></tr></tbody></table></div><div class="height-40 margin-top-5 overflow-auto-hover" ng-if="ctrl.toptenInfo.series.length > 0"><label class="absolute width-50 primary-background">Series</label><table class="width-40 margin-top-20"><tbody><tr ng-repeat="series in ctrl.toptenInfo.series | orderBy: \'-count\'"><td>{{series.name}}</td><td>{{series.count}}</td></tr></tbody></table></div></div></div></div>'),t.put('/modules/toptens/views/view-topten.client.view.html','<section data-ng-controller="ToptensController as ctrl" data-ng-init=ctrl.findOne()><div class="page-header margin-top-0"><div class="pull-right margin-top-25" data-ng-show="((ctrl.authentication.user) && (ctrl.authentication.user._id == ctrl.topten.user._id))"><a class="btn btn-accent" href=/#!/toptens><i class="glyphicon glyphicon-chevron-left"></i> </a><a class="btn btn-primary" href=/#!/toptens/{{ctrl.topten._id}}/edit><i class="glyphicon glyphicon-edit"></i> </a><a class="btn btn-danger" data-ng-click=ctrl.remove()><i class="glyphicon glyphicon-trash"></i></a></div><h1 class=display-inline-block data-ng-bind=ctrl.topten.name></h1><span class="item-icons padding-10" ng-if=::ctrl.topten.isFavourite><i class="fa fa-star fa-2x" style="color: gold"></i></span><h4 ng-bind=ctrl.topten.description></h4><small><em class=text-muted>Created <span data-ng-bind="ctrl.topten.meta.created | date: \'dd MMM yyyy HH:mm\'"></span><br>Updated <span data-ng-bind="ctrl.topten.meta.updated | date: \'dd MMM yyyy HH:mm\'"></span></em></small></div><div class="relative col-lg-12 col-md-12 col-sm-12"><div horizontal-list><div horizontal-list-item ng-repeat="item in ctrl.topten[ctrl.topten.type + \'List\'] track by item._id"><a href=/#!/{{ctrl.topten.type}}{{ctrl.viewConfig.linkSuffix}}/{{item._id}}><i class="fa fa-trophy trophy-{{::$index + 1}}" ng-if=::ctrl.topten.isRanked></i><h4 class="display-inline-block margin-0" ng-bind=item[ctrl.viewConfig.displayType]></h4></a><div class=height-90><img ng-src={{item.image}} class=height-100></div></div></div></div><div class="col-lg-12 col-md-12 col-sm-12 margin-top-5"><button class="btn btn-primary cursor-pointer" ng-click=ctrl.openListStats()>Examine list</button></div></section>'),t.put('/modules/users/views/authentication/signin.client.view.html','<section class=row data-ng-controller="AuthenticationController as ctrl"><div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2"><form data-ng-submit=ctrl.signin() class="signin form-horizontal" autocomplete=off><fieldset><div class="has-float-label form-group centerPiece"><input type=password id=password name=password class=form-control data-ng-model=ctrl.credentials.password placeholder=...><label for=password>enter</label></div></fieldset></form></div></section>'),t.put('/modules/users/views/authentication/signup.client.view.html','<section class=row data-ng-controller=AuthenticationController><br><div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2"><form name=userForm data-ng-submit=signup() class="signin form-horizontal" novalidate autocomplete=off><fieldset><div class=form-group><label for=firstName>First Name</label><input required id=firstName name=firstName class=form-control data-ng-model=credentials.firstName placeholder="First Name"></div><div class=form-group><label for=lastName>Last Name</label><input id=lastName name=lastName class=form-control data-ng-model=credentials.lastName placeholder="Last Name"></div><div class=form-group><label for=email>Email</label><input type=email id=email name=email class=form-control data-ng-model=credentials.email placeholder=Email></div><div class=form-group><label for=username>Username</label><input id=username name=username class=form-control data-ng-model=credentials.username placeholder=Username></div><div class=form-group><label for=password>Password</label><input type=password id=password name=password class=form-control data-ng-model=credentials.password placeholder=Password></div><div class="text-center form-group"><button type=submit class="btn btn-large btn-primary">Sign up</button>&nbsp; or&nbsp; <a href=/#!/signin class=show-signup>Sign in</a></div><div data-ng-show=error class="text-center text-danger"><strong data-ng-bind=error></strong></div></fieldset></form></div></section>'),t.put('/modules/users/views/password/forgot-password.client.view.html','<section class=row data-ng-controller=PasswordController><h3 class="col-md-12 text-center">Restore your password</h3><p class="small text-center">Enter your account username.</p><div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2"><form data-ng-submit=askForPasswordReset() class="signin form-horizontal" autocomplete=off><fieldset><div class=form-group><input id=username name=username class=form-control data-ng-model=credentials.username placeholder=Username></div><div class="text-center form-group"><button type=submit class="btn btn-primary">Submit</button></div><div data-ng-show=error class="text-center text-danger"><strong>{{error}}</strong></div><div data-ng-show=success class="text-center text-success"><strong>{{success}}</strong></div></fieldset></form></div></section>'),t.put('/modules/users/views/password/reset-password-invalid.client.view.html','<section class="row text-center"><h3 class=col-md-12>Password reset is invalid</h3><a href=/#!/password/forgot class=col-md-12>Ask for a new password reset</a></section>'),t.put('/modules/users/views/password/reset-password-success.client.view.html','<section class="row text-center"><h3 class=col-md-12>Password successfully reset</h3><a href=/#!/ class=col-md-12>Continue to home page</a></section>'),t.put('/modules/users/views/password/reset-password.client.view.html','<section class=row data-ng-controller=PasswordController><h3 class="col-md-12 text-center">Reset your password</h3><div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2"><form data-ng-submit=resetUserPassword() class="signin form-horizontal" autocomplete=off><fieldset><div class=form-group><label for=newPassword>New Password</label><input type=password id=newPassword name=newPassword class=form-control data-ng-model=passwordDetails.newPassword placeholder="New Password"></div><div class=form-group><label for=verifyPassword>Verify Password</label><input type=password id=verifyPassword name=verifyPassword class=form-control data-ng-model=passwordDetails.verifyPassword placeholder="Verify Password"></div><div class="text-center form-group"><button type=submit class="btn btn-large btn-primary">Update Password</button></div><div data-ng-show=error class="text-center text-danger"><strong>{{error}}</strong></div><div data-ng-show=success class="text-center text-success"><strong>{{success}}</strong></div></fieldset></form></div></section>'),t.put('/modules/users/views/settings/change-password.client.view.html','<section class=row data-ng-controller=SettingsController><h3 class="col-md-12 text-center">Change your password</h3><div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2"><form data-ng-submit=changeUserPassword() class="signin form-horizontal" autocomplete=off><fieldset><div class=form-group><label for=currentPassword>Current Password</label><input type=password id=currentPassword name=currentPassword class=form-control data-ng-model=passwordDetails.currentPassword placeholder="Current Password"></div><div class=form-group><label for=newPassword>New Password</label><input type=password id=newPassword name=newPassword class=form-control data-ng-model=passwordDetails.newPassword placeholder="New Password"></div><div class=form-group><label for=verifyPassword>Verify Password</label><input type=password id=verifyPassword name=verifyPassword class=form-control data-ng-model=passwordDetails.verifyPassword placeholder="Verify Password"></div><div class="text-center form-group"><button type=submit class="btn btn-large btn-primary">Save Password</button></div><div data-ng-show=success class="text-center text-success"><strong>Password Changed Successfully</strong></div><div data-ng-show=error class="text-center text-danger"><strong data-ng-bind=error></strong></div></fieldset></form></div></section>'),t.put('/modules/users/views/settings/edit-profile.client.view.html','<section class=row data-ng-controller=SettingsController><h3 class="col-md-12 text-center">Edit your profile</h3><div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2"><form name=userForm data-ng-submit=updateUserProfile(userForm.$valid) class="signin form-horizontal" autocomplete=off><fieldset><div class=form-group><label for=firstName>First Name</label><input id=firstName name=firstName class=form-control data-ng-model=user.firstName placeholder="First Name"></div><div class=form-group><label for=lastName>Last Name</label><input id=lastName name=lastName class=form-control data-ng-model=user.lastName placeholder="Last Name"></div><div class=form-group><label for=email>Email</label><input type=email id=email name=email class=form-control data-ng-model=user.email placeholder=Email></div><div class=form-group><label for=username>Username</label><input id=username name=username class=form-control data-ng-model=user.username placeholder=Username></div><div class="text-center form-group"><button type=submit class="btn btn-large btn-primary">Save Profile</button></div><div data-ng-show=success class="text-center text-success"><strong>Profile Saved Successfully</strong></div><div data-ng-show=error class="text-center text-danger"><strong data-ng-bind=error></strong></div></fieldset></form></div></section>'),t.put('/modules/users/views/settings/social-accounts.client.view.html','<section class=row data-ng-controller=SettingsController><h3 class="col-md-12 text-center" data-ng-show=hasConnectedAdditionalSocialAccounts()>Connected social accounts:</h3><div class="col-md-12 text-center"><div data-ng-repeat="(providerName, providerData) in user.additionalProvidersData" class=remove-account-container><img ng-src=/modules/users/img/buttons/{{providerName}}.png> <a class="btn btn-danger btn-remove-account" data-ng-click=removeUserSocialAccount(providerName)><i class="glyphicon glyphicon-trash"></i></a></div></div><h3 class="col-md-12 text-center">Connect other social accounts:</h3><div class="col-md-12 text-center"><a href=/auth/facebook data-ng-hide="isConnectedSocialAccount(\'facebook\')" class=undecorated-link><img src=/modules/users/img/buttons/facebook.png> </a><a href=/auth/twitter data-ng-hide="isConnectedSocialAccount(\'twitter\')" class=undecorated-link><img src=/modules/users/img/buttons/twitter.png> </a><a href=/auth/google data-ng-hide="isConnectedSocialAccount(\'google\')" class=undecorated-link><img src=/modules/users/img/buttons/google.png> </a><a href=/auth/linkedin data-ng-hide="isConnectedSocialAccount(\'linkedin\')" class=undecorated-link><img src=/modules/users/img/buttons/linkedin.png> </a><a href=/auth/github data-ng-hide="isConnectedSocialAccount(\'github\')" class=undecorated-link><img src=/modules/users/img/buttons/github.png></a></div></section>')}]);
//# sourceMappingURL=templates.min.js.map
