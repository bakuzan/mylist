<section data-ng-controller="HistoryController" data-ng-init="buildHistory()" data-ng-show="authentication.user">
    <div class="page-header">
        <div class="view-buttons text-right pull-right">
            <label class="btn btn-primary" ng-model="view" btn-radio="'Anime'">Anime</label>
            <label class="btn btn-primary" ng-model="view" btn-radio="'Manga'">Manga</label>
        </div>
        <h1>{{view}} history</h1>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 history-list-container" ng-show="view === 'Anime'">
        <div class="col-lg-12 col-md-12 col-sm-12 history-list">
            <div class="col-lg-12 col-md-12 col-sm-12 history-list-item" ng-repeat="item in animeHistory | orderBy: ['-date','-value']" ng-hide="loading(item.title)">
                <time class="pull-right" title="{{item.date | date: 'HH:mm dd MMMM'}}" am-time-ago="item.date"></time>
                <p><a href="/#!/animeitems/{{item.id}}">{{item.title}}</a> - Episode {{item.value}}</p>
            </div>
        </div>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 history-list-container" ng-show="view === 'Manga'">
        <div class="col-lg-12 col-md-12 col-sm-12 history-list">
            <div class="col-lg-12 col-md-12 col-sm-12 history-list-item" ng-repeat="item in mangaHistory | orderBy: ['-date','-value']">
                <time class="pull-right" title="{{item.date | date: 'HH:mm dd MMMM'}}" am-time-ago="item.date"></time>
                <p><a href="/#!/mangaitems/{{item.id}}">{{item.title}}</a> - Chapter {{item.value}}</p>
            </div>
        </div>
    </div>
    <section class="loading-image" data-ng-if="isLoading"></section>
</section>