<section data-ng-controller="StatisticsController as ctrl" data-ng-init="ctrl.find(view)" data-ng-show="ctrl.authentication.user">
    <span keycuts></span>
    <header class="fixed-header width-100 secondary-background padding-10" style="top: 50px; left: 0">
        <div class="view-controls absolute position-right" style="min-width: 368px">
            <div tab-container ng-model="view" ng-change="ctrl.find(view)">
                <div tab-view heading="Anime"></div>
                <div tab-view heading="Manga"></div>
                <div tab-view heading="Character"></div>
                <div tab-view heading="Topten"></div>
            </div>
        </div>
        <h1>{{view}} statistics</h1>
    </header>
    <section class="col-lg-12 col-md-12 col-sm-12 relative" style="top: 100px" ng-hide="view !== 'Anime' && view !== 'Manga'" loading-spinner name="items" size="fullscreen">
        <aside class="col-lg-12 col-md-12 col-sm-12 stat-overview">
                <span class="accent-text">{{overview.ongoing}} in progress</span> - <span class="green-text">{{overview.completed}}  completed</span>
        </aside>
        <div tab-container class="width-100">
            <div tab-view heading="history">
                <div class="col-lg-12 col-md-12 col-sm-12 stat-history-panel">
                    <div class="stat-header">
                        <div class="stat-header-label-container">
                            <h3>
                                History
                            </h3>
                            <div tab-container ng-model="detail.history" style="width: 250px">
                                <div tab-view heading="months" ng-click="detail.isVisible=false; detail.isEpisodeRatings=false"></div>
                                <div tab-view heading="seasons" ng-click="detail.isVisible=false" disabled="view === 'Manga'"></div>
                            </div>
                            <div class="margin-auto padding-left-15" ng-show="detail.history === 'seasons'">
                                <input type="checkbox" class="phantom-control" ng-model="detail.isEpisodeRatings" />
                                <span class="display-inline-block font-18 padding-left-5">
                                    use episode ratings
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 stat-history">
                        <table class="col-lg-12 col-md-12 col-sm-12">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th class="text-center" ng-class="(detail.history === 'months') ? 'stat-month-header' : 'stat-season-header'" ng-repeat="header in commonArrays[detail.history]">
                                        {{detail.history === 'months' ? header.text.substring(0,3) : header.text }}
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="year in historyDetails[detail.history][detail.history] | orderBy: '-year'">
                                    <th ng-class="(detail.isEpisodeRatings) ? '' : 'clickable'"
                                        ng-click="(detail.isEpisodeRatings) ? '' : ctrl.historyDetail(year.year, '', '', detail.history)">
                                        <span>{{year.year}}</span>
                                    </th>
                                    <td ng-repeat="part in year[detail.history]"
                                        ng-click="ctrl.historyDetail(year.year, part[detail.history==='months' ? 'number' : 'text'], part.text)"
                                        hover-data="{{part.count}} {{detail.history === 'months' ? 'completed' : 'watched' }} {{part.text}} {{year.year}}.">
                                        <span class="stat-month-box" ng-style="{'opacity': part.count / historyDetails[detail.history].max }"></span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div><!-- HISTORY PANEL END -->
                    <div class="col-lg-12 col-md-12 col-sm-12 stat-month-detail" ng-show="detail.isVisible"  loading-spinner name="detail">
                        <div class="col-lg-12 col-md-12 col-sm-12 margin-top-10"
                             ng-show="(detail.summary.isVisible && detailItems.length > 1) && detail.isEpisodeRatings === false">
                            <table class="col-lg-12 col-md-12 col-sm-12">
                                <thead>
                                    <th>{{detail.year}}</th>
                                    <th class="text-right" ng-repeat="item in commonArrays[detail.summary.type]">{{ detail.summary.type === 'months' ? item.text.substring(0,3) : item.text }}</th>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in historyDetails.yearSummary">
                                        <th>{{item.metric}}</th>
                                        <td class="text-right" ng-repeat="value in item.values">{{value.value}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="stat-detail padding-bottom-15"
                             ng-class="(detail.isEpisodeRatings) ? 'col-lg-12 col-md-12 col-sm-12' : 'col-lg-8 col-md-8 col-sm-8'">
                            <div class="stat-detail-header">
                                <h3>{{detailItems.length}} {{detail.history === 'months' ? 'Completed' : 'Watched' }} {{detail.divisionText}} {{detail.year}}</h3>
                            </div>
                            <table class="col-lg-12 col-md-12 col-sm-12 stat-detail-list">
                                <thead>
                                  <th>
                                      <a href="" ng-click="filterConfig.sort.episodeRating.type = 'title'; filterConfig.sort.episodeRating.reverse = !filterConfig.sort.episodeRating.reverse ">
                                         Title
                                      </a>
                                      <i ng-show="filterConfig.sort.episodeRating.type == 'title'" class="fa" ng-class="filterConfig.sort.episodeRating.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                  </th>
                                  <th>
                                      <a href="" ng-click="filterConfig.sort.episodeRating.type = 'rating'; filterConfig.sort.episodeRating.reverse = !filterConfig.sort.episodeRating.reverse ">
                                         Rating
                                      </a>
                                      <i ng-show="filterConfig.sort.episodeRating.type == 'rating'" class="fa" ng-class="filterConfig.sort.episodeRating.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                  </th>
                                  <th ng-repeat="metric in commonArrays.summaryFunctions" ng-if="detail.isEpisodeRatings">
                                    <a href="" ng-click="filterConfig.sort.episodeRating.type = 'meta.episodeSummaryFunctions[{{$index}}].value'; filterConfig.sort.episodeRating.reverse = !filterConfig.sort.episodeRating.reverse ">
                                       {{metric.name}}
                                    </a>
                                    <i ng-show="filterConfig.sort.episodeRating.type === 'meta.episodeSummaryFunctions[{{$index}}].value'" class="fa" ng-class="filterConfig.sort.episodeRating.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                  </th>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in (detailItems = (items | statisticsDetailFilter: detail.history:detail.year:detail.division | orderBy: filterConfig.sort.episodeRating.type:filterConfig.sort.episodeRating.reverse))">
                                        <td class="no-wrap overflow-hidden" ng-class="(detail.isEpisodeRatings) ? '' : 'width-75'">
                                            <a href="/#!/{{view.toLowerCase()}}items/{{item._id}}"><span>{{item.title}}</span></a>
                                            <p ng-if="detail.summary.type === 'seasons'">{{item.start | date: 'MM/yyyy'}} - {{item.end | date: 'MM/yyyy'}}</p>
                                        </td>
                                        <td>
                                            <span>{{item.rating}}</span>
                                        </td>
                                        <td ng-repeat="episode in item.meta.episodeSummaryFunctions" ng-if="detail.isEpisodeRatings">
                                            <span>{{episode.value}}</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 margin-top-55 margin-bottom-20"
                             ng-show="detailItems.length > 0 && detail.isEpisodeRatings === false">
                            <table class="col-lg-12 col-md-12 col-sm-12">
                                <tbody>
                                    <tr ng-repeat="item in historyDetails.summaryFunctions">
                                        <th>{{item.metric}}</th><td>{{item.value}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div><!-- HISTORY DETAIL PANEL END -->
                </div>
            </div>
            <div tab-view heading="ratings">
                <div class="col-lg-12 col-md-12 col-sm-12 stat-rating-panel">
                <div class="stat-header">
                    <h3> Ratings</h3><span class="stat-summary-info pull-right"><small class="accent-text">&nbsp;{{ratingValues.averageRating | number: 2}} average rating.</small></span>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <table class="col-lg-12 col-md-12 col-sm-12 stat-rating-table">
                        <tbody>
                            <tr ng-repeat="rating in ratingsDistribution">
                                <th class="col-lg-1 col-md-1 col-sm-1 text-right mb"><span>{{rating.number}}</span></th>
                                <td class="col-lg-11 col-md-11 col-sm-11 col-xs-11 stat-rating-box">
                                  <div percentage-bar-container>
                                      <div percentage-bar percentage="{{::rating.percentage}}"
                                           display="{{::rating.percentage}}%"
                                           colour="{{::rating.colour}}" type="white-text"
                                           hover-data="{{::rating.text}}"></div>
                                  </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div><!-- RATING PANEL END -->
            </div>
            <div tab-view heading="tags">
                <div class="col-lg-12 col-md-12 col-sm-12 stat-tag-panel">
                <div class="stat-header">
                    <h3> Tags</h3><span class="stat-summary-info pull-right"><small class="accent-text">&nbsp;{{statTags.length}} unique tags.</small></span>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="input-group">
                        <div class="input-group-addon">
                            <i class="fa fa-search"></i>
                        </div>
                        <input type="text" ng-model="filterConfig.search.tag" placeholder="search tags" class="form-control">
                    </div>
                    <table class="col-lg-12 col-md-12 col-sm-12 stat-tag-table table table-bordered">
                        <thead>
                            <tr>
                                <td class="text-right">#</td>
                                <td>
                                    <a href="" ng-click="filterConfig.sort.tag.type = 'tag'; filterConfig.sort.tag.reverse = !filterConfig.sort.tag.reverse ">
                                       Tag
                                    </a>
                                    <i ng-show="filterConfig.sort.tag.type == 'tag'" class="fa" ng-class="filterConfig.sort.tag.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                </td>
                                <td class="text-right">
                                    <a href="" ng-click="filterConfig.sort.tag.type = 'count'; filterConfig.sort.tag.reverse = !filterConfig.sort.tag.reverse ">
                                       Count
                                    </a>
                                    <i ng-show="filterConfig.sort.tag.type == 'count'" class="fa" ng-class="filterConfig.sort.tag.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                </td>
                                <td class="text-right">
                                    <a href="" ng-click="filterConfig.sort.tag.type = 'ratingAvg'; filterConfig.sort.tag.reverse = !filterConfig.sort.tag.reverse ">
                                       Rating (Avg.)
                                    </a>
                                    <i ng-show="filterConfig.sort.tag.type == 'ratingAvg'" class="fa" ng-class="filterConfig.sort.tag.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                </td>
                                <td class="text-right">
                                    <a href="" ng-click="filterConfig.sort.tag.type = 'ratingWeighted'; filterConfig.sort.tag.reverse = !filterConfig.sort.tag.reverse ">
                                       Rating (WAvg.)
                                    </a>
                                    <i ng-show="filterConfig.sort.tag.type == 'ratingWeighted'" class="fa" ng-class="filterConfig.sort.tag.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="stat in statTags | orderBy: filterConfig.sort.tag.type:filterConfig.sort.tag.reverse | filter: { tag: filterConfig.search.tag }">
                                <td class="text-right">{{$index+1}}</td>
                                <td>{{stat.tag}}</td>
                                <td class="text-right">{{stat.count}}</td>
                                <td class="text-right">{{stat.ratingAvg | number: 2}}</td>
                                <td class="text-right">{{stat.ratingWeighted | number: 2}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            </div>
        </div>
    </section>
    <section class="col-lg-12 col-md-12 col-sm-12 relative stat-view" style="top: 100px" ng-show="view === 'Character'" loading-spinner name="character" size="fullscreen">
        <aside class="col-lg-12 col-md-12 col-sm-12 stat-gender-panel primary-background">
            <div class="stat-gender-progress-container">
                <div percentage-bar-container>
                    <div ng-repeat="sex in gender" percentage-bar percentage="{{sex.percentage}}"
                         display="{{sex.percentage | number: 2}}{{::sex.text}}"
                         colour="{{sex.colour}}" type="white-text"
                         hover-data="{{sex.percentage | number: 2}}{{::sex.text}}"></div>
                </div>
            </div>
        </aside>
        <div tab-container class="width-100">
          <div tab-view heading="tags">
            <div class="col-lg-12 col-md-12 col-sm-12 stat-tag-panel">
              <div class="col-lg-6 col-md-6 col-sm-6 stat-tag-main">
                <div class="stat-header">
                  <h3> Tags</h3><span class="stat-summary-info pull-right"><small class="accent-text">&nbsp;{{statTags.length}} unique tags.</small></span>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <div class="input-group">
                    <div class="input-group-addon">
                      <i class="fa fa-search"></i>
                    </div>
                    <input type="text" ng-model="filterConfig.search.tag" placeholder="search tags" class="form-control" ng-disabled="tableDetail.isEqual">
                  </div>
                  <table class="col-lg-12 col-md-12 col-sm-12 stat-tag-table table table-bordered">
                    <thead>
                      <tr>
                        <td class="text-right">#</td>
                        <td>
                          <a href="" ng-click="filterConfig.sort.tag.type = 'tag'; filterConfig.sort.tag.reverse = !filterConfig.sort.tag.reverse ">
  					               Tag
  					              </a>
                          <i ng-show="filterConfig.sort.tag.type == 'tag'" class="fa" ng-class="filterConfig.sort.tag.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                        </td>
                        <td class="text-right">
                          <a href="" ng-click="filterConfig.sort.tag.type = 'count'; filterConfig.sort.tag.reverse = !filterConfig.sort.tag.reverse ">
  					               Count
  					              </a>
                          <i ng-show="filterConfig.sort.tag.type == 'count'" class="fa" ng-class="filterConfig.sort.tag.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                        </td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="stat-table-row clickable" ng-repeat="stat in statTags | orderBy: filterConfig.sort.tag.type:filterConfig.sort.tag.reverse | filter: {tag: filterConfig.search.tag }:tableDetail.isEqual" ng-click="ctrl.tableDetail('tag', stat.tag);">
                        <td class="text-right">{{$index+1}}</td>
                        <td>{{stat.tag}}</td>
                        <td class="text-right">{{stat.count}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6 stat-tag-detail" ng-show="filterConfig.show.tag">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <div class="stat-header">
                      <h3>Tags appearing with {{tableDetail.tag}}</h3>
                  </div>
                  <div class="input-group">
                      <div class="input-group-addon">
                          <i class="fa fa-search"></i>
                      </div>
                      <input type="text" ng-model="filterConfig.search.tagDetail" placeholder="search related tags" class="form-control">
                  </div>
                  <table class="col-lg-12 col-md-12 col-sm-12 stat-tag-detail-table table table-bordered">
                      <thead>
                          <tr>
                              <td class="text-right">#</td>
                              <td>
                                  <a href="" ng-click="filterConfig.sort.tagDetail.type = 'name'; filterConfig.sort.tagDetail.reverse = !filterConfig.sort.tagDetail.reverse ">
                                     Tag
                                  </a>
                                  <i ng-show="filterConfig.sort.tagDetail.type == 'name'" class="fa" ng-class="filterConfig.sort.tagDetail.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                              </td>
                              <td class="text-right">
                                  <a href="" ng-click="filterConfig.sort.tagDetail.type = 'count'; filterConfig.sort.tagDetail.reverse = !filterConfig.sort.tagDetail.reverse ">
                                     Count
                                  </a>
                                  <i ng-show="filterConfig.sort.tagDetail.type == 'count'" class="fa" ng-class="filterConfig.sort.tagDetail.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                              </td>
                          </tr>
                      </thead>
                      <tbody>
                          <tr ng-repeat="stat in tagDetailResult | orderBy: filterConfig.sort.tagDetail.type:filterConfig.sort.tagDetail.reverse | filter: {name: filterConfig.search.tagDetail }">
                              <td class="text-right">{{$index+1}}</td>
                              <td>{{stat.name}}</td>
                              <td class="text-right">{{stat.count}}</td>
                          </tr>
                      </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
            <div tab-view heading="series">
              <div class="col-lg-12 col-md-12 col-sm-12 stat-media-panel">
                  <div class="col-lg-6 col-md-6 col-sm-6 stat-media-main">
                      <div class="stat-header">
                          <h3> Series</h3>
                          <span class="stat-summary-info pull-right">
                              <small class="accent-text">&nbsp;{{statSeries.length}} unique series.</small>
                          </span>
                      </div>
                  <div class="col-lg-12 col-md-12 col-sm-12">
                  <div class="input-group">
                      <div class="input-group-addon">
                          <i class="fa fa-search"></i>
                      </div>
                      <input type="text" ng-model="filterConfig.search.series" placeholder="search series" class="form-control">
                  </div>
                  <table class="col-lg-12 col-md-12 col-sm-12 stat-media-table table table-bordered">
                      <thead>
                          <tr>
                              <td class="text-right">#</td>
                              <td>
                                  <a href="" ng-click="filterConfig.sort.series.type = 'name'; filterConfig.sort.series.reverse = !filterConfig.sort.series.reverse ">
                                     Series
                                  </a>
                                  <i ng-show="filterConfig.sort.series.type == 'name'" class="fa" ng-class="filterConfig.sort.series.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                              </td>
                              <td class="text-right">
                                  <a href="" ng-click="filterConfig.sort.series.type = 'count'; filterConfig.sort.series.reverse = !filterConfig.sort.series.reverse ">
                                     Count
                                  </a>
                                  <i ng-show="filterConfig.sort.series.type == 'count'" class="fa" ng-class="filterConfig.sort.series.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                              </td>
                          </tr>
                      </thead>
                      <tbody>
                          <tr class="stat-table-row clickable" ng-repeat="stat in statSeries | orderBy: filterConfig.sort.series.type:filterConfig.sort.series.reverse | filter: {name: filterConfig.search.series }" ng-click="ctrl.tableDetail('series', stat.name);">
                              <td class="text-right">{{$index+1}}</td>
                              <td>{{stat.name}}</td>
                              <td class="text-right">{{stat.count}}</td>
                          </tr>
                      </tbody>
                  </table>
              </div>
              </div><!-- SERIES PANEL END -->
                  <div class="col-lg-6 col-md-6 col-sm-6 stat-media-detail" ng-show="filterConfig.show.series">
                      <div class="col-lg-12 col-md-12 col-sm-12 stat-detail">
                          <div class="stat-detail-header">
                              <h3>Characters in {{tableDetail.series}}</h3>
                          </div>
                          <ul class="col-lg-12 col-md-12 col-sm-12 statMediaDetailList">
                              <li ng-repeat="item in items | orderBy: 'name' | seriesDetailFilter: tableDetail.series">
                                  <a href="/#!/characters/{{item._id}}"><span>{{item.name}}</span></a>
                              </li>
                          </ul>
                      </div>
                  </div>
              </div><!-- MEDIA CONTAINER END -->
          </div>
          <div tab-view heading="voice">
            <div class="col-lg-12 col-md-12 col-sm-12 stat-voice-panel">
                <div class="col-lg-6 col-md-6 col-sm-6 stat-voice-main">
                    <div class="stat-header">
                        <h3> Voice Actors</h3>
                        <span class="stat-summary-info pull-right">
                            <small class="accent-text">&nbsp;{{voiceActors.length}} voices.</small>
                        </span>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </div>
                            <input type="text" ng-model="filterConfig.search.voice" placeholder="search voices" class="form-control">
                        </div>
                        <table class="col-lg-12 col-md-12 col-sm-12 stat-voice-table table table-bordered">
                            <thead>
                                <tr>
                                    <td class="text-right">#</td>
                                    <td>
                                        <a href="" ng-click="filterConfig.sort.voice.type = 'name'; filterConfig.sort.voice.reverse = !filterConfig.sort.voice.reverse ">
                                           Voice
                                       </a>
                                        <i ng-show="filterConfig.sort.voice.type == 'name'" class="fa" ng-class="filterConfig.sort.voice.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                    </td>
                                    <td class="text-right">
                                        <a href="" ng-click="filterConfig.sort.voice.type = 'count'; filterConfig.sort.voice.reverse = !filterConfig.sort.voice.reverse ">
                                           Count
                                       </a>
                                        <i ng-show="filterConfig.sort.voice.type == 'count'" class="fa" ng-class="filterConfig.sort.voice.reverse ? 'fa-caret-up' : 'fa-caret-down' "></i>
                                    </td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="stat-table-row clickable" ng-repeat="stat in voiceActors | orderBy: filterConfig.sort.voice.type:filterConfig.sort.voice.reverse | filter: {name: filterConfig.search.voice }" ng-click="ctrl.tableDetail('voice', stat.name);" >
                                    <td class="text-right">{{$index+1}}</td>
                                    <td>{{stat.name}}</td>
                                    <td class="text-right">{{stat.count}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 stat-voice-detail" ng-show="filterConfig.show.voice">
                    <div class="col-lg-12 col-md-12 col-sm-12 stat-detail">
                    <div class="stat-detail-header">
                        <h3>Characters voiced by {{tableDetail.voice}}</h3>
                    </div>
                    <ul class="col-lg-12 col-md-12 col-sm-12 stat-voice-detail-list">
                        <li ng-repeat="item in items | orderBy: 'name' | filter: {voice: tableDetail.voice}">
                            <a href="/#!/characters/{{item._id}}"><span>{{item.name}}</span></a>
                        </li>
                    </ul>
                </div>
                </div><!-- SERIES DETAIL PANEL END -->
            </div><!-- VOICE CONTAINER END -->
            </div>
        </div>
    </section>
    <section class="col-lg-12 col-md-12 col-sm-12 relative stat-view" style="top: 100px" ng-show="view === 'Topten'" loading-spinner name="topten" size="fullscreen">
      <aside class="col-lg-12 col-md-12 col-sm-12 primary-background">
        <div class="text-center font-18 bold">
          <span ng-style="{ color: colours.red }" ng-bind="toptens.anime.listCount + ' anime '"></span>-
          <span ng-style="{ color: colours.green }" ng-bind="toptens.manga.listCount + ' manga '"></span>-
          <span ng-style="{ color: colours.blue }" ng-bind="toptens.character.listCount + ' character '"></span>
        </div>
      </aside>
      <div tab-container ng-model="toptens.type" ng-change="ctrl.getToptenItemStatistics(view, toptens.type)" class="width-100">
        <div tab-view heading="anime"></div>
        <div tab-view heading="manga"></div>
        <div tab-view heading="character"></div>
      </div>
      <article>
        <ul>
          <li ng-repeat="item in toptens.detail.items">
            <span>{{item.title}}</span>-<span>{{item.count}}</span>
          </li>
        </ul>
      </article>
    </section>
</section>
